import{$ as Vu,O as qu,Q as ms,a as Fu,c as Bu,d as $u,e as Hu,f as ju,g as zu,h as Wu,v as Gu}from"./chunk-UYPQVT7B.js";import{A as sn,C as ai,D as Ct,E as ss,F as gu,G as yu,J as Su,K as et,L as _u,M as me,N as pe,Nb as pi,O as le,Oa as ls,Ob as fs,Pb as Uu,Q as vu,Qb as ps,R as Ae,Ra as Au,S as as,T as qn,Ta as ku,U as A,Va as Mu,Wa as Ou,X as ci,Xa as di,Z as ui,Za as ds,_ as pt,a as du,aa as Eu,ac as hs,b as fu,bc as hi,cb as Du,d as ts,db as Nu,e as ns,ea as cs,eb as Lu,f as Wt,fa as li,fb as Pu,g as Pe,h as ft,ha as Iu,i as We,ia as bu,j as O,ja as Tu,k as Gt,ka as Vn,l as pu,la as us,m as hu,ma as wu,n as V,na as Cu,o as rs,p as Ue,pa as Ru,q as mu,r as is,sb as fi,u as on,w as wt,x as Gn,xa as xu,z as os}from"./chunk-S34MX2MU.js";import{a as f,b as E}from"./chunk-VZBGOO6O.js";var D="primary",ur=Symbol("RouteTitle"),vs=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fn(e){return new vs(e)}function Hp(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=e[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function jp(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!tt(e[n],t[n]))return!1;return!0}function tt(e,t){let n=e?Es(e):void 0,r=t?Es(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!tl(e[i],t[i]))return!1;return!0}function Es(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function tl(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function nl(e){return e.length>0?e[e.length-1]:null}function Rt(e){return pu(e)?e:Nu(e)?We(Promise.resolve(e)):O(e)}var zp={exact:il,subset:ol},rl={exact:Wp,subset:Gp,ignored:()=>!0};function Yu(e,t,n){return zp[n.paths](e.root,t.root,n.matrixParams)&&rl[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function Wp(e,t){return tt(e,t)}function il(e,t,n){if(!Vt(e.segments,t.segments)||!yi(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!il(e.children[r],t.children[r],n))return!1;return!0}function Gp(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>tl(e[n],t[n]))}function ol(e,t,n){return sl(e,t,t.segments,n)}function sl(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Vt(i,n)||t.hasChildren()||!yi(i,n,r))}else if(e.segments.length===n.length){if(!Vt(e.segments,n)||!yi(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ol(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Vt(e.segments,i)||!yi(e.segments,i,r)||!e.children[D]?!1:sl(e.children[D],t,o,r)}}function yi(e,t,n){return t.every((r,i)=>rl[n](e[i].parameters,r.parameters))}var mt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new q([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fn(this.queryParams),this._queryParamMap}toString(){return Yp.serialize(this)}},q=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Si(this)}},qt=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=fn(this.parameters),this._parameterMap}toString(){return cl(this)}};function qp(e,t){return Vt(e,t)&&e.every((n,r)=>tt(n.parameters,t[r].parameters))}function Vt(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function Vp(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===D&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==D&&(n=n.concat(t(i,r)))}),n}var Ys=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:()=>new Zn,providedIn:"root"})}return e})(),Zn=class{parse(t){let n=new bs(t);return new mt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Yn(t.root,!0)}`,r=Xp(t.queryParams),i=typeof t.fragment=="string"?`#${Kp(t.fragment)}`:"";return`${n}${r}${i}`}},Yp=new Zn;function Si(e){return e.segments.map(t=>cl(t)).join("/")}function Yn(e,t){if(!e.hasChildren())return Si(e);if(t){let n=e.children[D]?Yn(e.children[D],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==D&&r.push(`${i}:${Yn(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Vp(e,(r,i)=>i===D?[Yn(e.children[D],!1)]:[`${i}:${Yn(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[D]!=null?`${Si(e)}/${n[0]}`:`${Si(e)}/(${n.join("//")})`}}function al(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mi(e){return al(e).replace(/%3B/gi,";")}function Kp(e){return encodeURI(e)}function Is(e){return al(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _i(e){return decodeURIComponent(e)}function Ku(e){return _i(e.replace(/\+/g,"%20"))}function cl(e){return`${Is(e.path)}${Jp(e.parameters)}`}function Jp(e){return Object.entries(e).map(([t,n])=>`;${Is(t)}=${Is(n)}`).join("")}function Xp(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${mi(n)}=${mi(i)}`).join("&"):`${mi(n)}=${mi(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var Qp=/^[^\/()?;#]+/;function gs(e){let t=e.match(Qp);return t?t[0]:""}var Zp=/^[^\/()?;=#]+/;function eh(e){let t=e.match(Zp);return t?t[0]:""}var th=/^[^=?&#]+/;function nh(e){let t=e.match(th);return t?t[0]:""}var rh=/^[^&#]+/;function ih(e){let t=e.match(rh);return t?t[0]:""}var bs=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[D]=new q(t,n)),r}parseSegment(){let t=gs(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(t),new qt(_i(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=eh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=gs(this.remaining);i&&(r=i,this.capture(r))}t[_i(n)]=_i(r)}parseQueryParam(t){let n=nh(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ih(this.remaining);s&&(r=s,this.capture(r))}let i=Ku(n),o=Ku(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=gs(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new pe(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=D);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[D]:new q([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new pe(4011,!1)}};function ul(e){return e.segments.length>0?new q([],{[D]:e}):e}function ll(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=ll(i);if(r===D&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new q(e.segments,t);return oh(n)}function oh(e){if(e.numberOfChildren===1&&e.children[D]){let t=e.children[D];return new q(e.segments.concat(t.segments),t.children)}return e}function er(e){return e instanceof mt}function sh(e,t,n=null,r=null){let i=dl(e);return fl(i,t,n,r)}function dl(e){let t;function n(o){let s={};for(let a of o.children){let u=n(a);s[a.outlet]=u}let c=new q(o.url,s);return o===e&&(t=c),c}let r=n(e.root),i=ul(r);return t??i}function fl(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return ys(i,i,i,n,r);let o=ah(t);if(o.toRoot())return ys(i,i,new q([],{}),n,r);let s=ch(o,i,e),c=s.processChildren?Jn(s.segmentGroup,s.index,o.commands):hl(s.segmentGroup,s.index,o.commands);return ys(i,s.segmentGroup,c,n,r)}function vi(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function tr(e){return typeof e=="object"&&e!=null&&e.outlets}function ys(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([a,u])=>{o[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;e===t?s=n:s=pl(e,t,n);let c=ul(ll(s));return new mt(c,o,i)}function pl(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=pl(o,t,n)}),new q(e.segments,r)}var Ei=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&vi(r[0]))throw new pe(4003,!1);let i=r.find(tr);if(i&&i!==nl(r))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ah(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ei(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Ei(n,t,r)}var un=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function ch(e,t,n){if(e.isAbsolute)return new un(t,!0,0);if(!n)return new un(t,!1,NaN);if(n.parent===null)return new un(n,!0,0);let r=vi(e.commands[0])?0:1,i=n.segments.length-1+r;return uh(n,i,e.numberOfDoubleDots)}function uh(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new pe(4005,!1);i=r.segments.length}return new un(r,!1,i-o)}function lh(e){return tr(e[0])?e[0].outlets:{[D]:e}}function hl(e,t,n){if(e??=new q([],{}),e.segments.length===0&&e.hasChildren())return Jn(e,t,n);let r=dh(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new q(e.segments.slice(0,r.pathIndex),{});return o.children[D]=new q(e.segments.slice(r.pathIndex),e.children),Jn(o,0,i)}else return r.match&&i.length===0?new q(e.segments,{}):r.match&&!e.hasChildren()?Ts(e,t,n):r.match?Jn(e,0,i):Ts(e,t,n)}function Jn(e,t,n){if(n.length===0)return new q(e.segments,{});{let r=lh(n),i={};if(Object.keys(r).some(o=>o!==D)&&e.children[D]&&e.numberOfChildren===1&&e.children[D].segments.length===0){let o=Jn(e.children[D],t,n);return new q(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hl(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new q(e.segments,i)}}function dh(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],c=n[r];if(tr(c))break;let a=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!Xu(a,u,s))return o;r+=2}else{if(!Xu(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ts(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(tr(o)){let a=fh(o.outlets);return new q(r,a)}if(i===0&&vi(n[0])){let a=e.segments[t];r.push(new qt(a.path,Ju(n[0]))),i++;continue}let s=tr(o)?o.outlets[D]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&vi(c)?(r.push(new qt(s,Ju(c))),i+=2):(r.push(new qt(s,{})),i++)}return new q(r,{})}function fh(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Ts(new q([],{}),0,r))}),t}function Ju(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Xu(e,t,n){return e==n.path&&tt(t,n.parameters)}var Xn="imperative",he=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(he||{}),Fe=class{id;url;constructor(t,n){this.id=t,this.url=n}},nr=class extends Fe{type=he.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Fe{urlAfterRedirects;type=he.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Me=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Me||{}),ws=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ws||{}),ht=class extends Fe{reason;code;type=he.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kt=class extends Fe{reason;code;type=he.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},rr=class extends Fe{error;target;type=he.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ii=class extends Fe{urlAfterRedirects;state;type=he.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cs=class extends Fe{urlAfterRedirects;state;type=he.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rs=class extends Fe{urlAfterRedirects;state;shouldActivate;type=he.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xs=class extends Fe{urlAfterRedirects;state;type=he.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},As=class extends Fe{urlAfterRedirects;state;type=he.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ks=class{route;type=he.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ms=class{route;type=he.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Os=class{snapshot;type=he.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ds=class{snapshot;type=he.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ns=class{snapshot;type=he.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ls=class{snapshot;type=he.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ir=class{},pn=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function ph(e,t){return e.providers&&!e._injector&&(e._injector=Ou(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ge(e){return e.outlet||D}function hh(e,t){let n=e.filter(r=>Ge(r)===t);return n.push(...e.filter(r=>Ge(r)!==t)),n}function lr(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ps=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return lr(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ai(this.rootInjector)}},Ai=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ps(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(qn(ui))};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),bi=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Us(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Us(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Fs(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Fs(t,this._root).map(n=>n.value)}};function Us(e,t){if(e===t.value)return t;for(let n of t.children){let r=Us(e,n);if(r)return r}return null}function Fs(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Fs(e,n);if(r.length)return r.unshift(t),r}return[]}var ke=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function cn(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Ti=class extends bi{snapshot;constructor(t,n){super(t),this.snapshot=n,Ks(this,t)}toString(){return this.snapshot.toString()}};function ml(e){let t=mh(e),n=new Pe([new qt("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),s=new Pe(""),c=new hn(n,r,o,s,i,D,e,t.root);return c.snapshot=t.root,new Ti(new ke(c,[]),t)}function mh(e){let t={},n={},r={},i="",o=new ln([],t,r,i,n,D,e,null,{});return new Ci("",new ke(o,[]))}var hn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,c,a){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(V(u=>u[ur]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(t=>fn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(t=>fn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wi(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:f(f({},t.params),e.params),data:f(f({},t.data),e.data),resolve:f(f(f(f({},e.data),t.data),i?.data),e._resolvedData)}:r={params:f({},e.params),data:f({},e.data),resolve:f(f({},e.data),e._resolvedData??{})},i&&yl(i)&&(r.resolve[ur]=i.title),r}var ln=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ur]}constructor(t,n,r,i,o,s,c,a,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fn(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Ci=class extends bi{url;constructor(t,n){super(n),this.url=t,Ks(this,n)}toString(){return gl(this._root)}};function Ks(e,t){t.value._routerState=e,t.children.forEach(n=>Ks(e,n))}function gl(e){let t=e.children.length>0?` { ${e.children.map(gl).join(", ")} } `:"";return`${e.value}${t}`}function Ss(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,tt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),tt(t.params,n.params)||e.paramsSubject.next(n.params),jp(t.url,n.url)||e.urlSubject.next(n.url),tt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Bs(e,t){let n=tt(e.params,t.params)&&qp(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Bs(e.parent,t.parent))}function yl(e){return typeof e.title=="string"||e.title===null}var gh=new Ae(""),Js=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=D;activateEvents=new Vn;deactivateEvents=new Vn;attachEvents=new Vn;detachEvents=new Vn;routerOutletData=Cu(void 0);parentContexts=A(Ai);location=A(ku);changeDetector=A(ps);inputBinder=A(Xs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new $s(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ds({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Eu]})}return e})(),$s=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===hn?this.route:t===Ai?this.childContexts:t===gh?this.outletData:this.parent.get(t,n)}},Xs=new Ae("");function yh(e,t,n){let r=or(e,t._root,n?n._root:void 0);return new Ti(r,t)}function or(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=Sh(e,t,n);return new ke(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>or(e,c)),s}}let r=_h(t.value),i=t.children.map(o=>or(e,o));return new ke(r,i)}}function Sh(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return or(e,r,i);return or(e,r)})}function _h(e){return new hn(new Pe(e.url),new Pe(e.params),new Pe(e.queryParams),new Pe(e.fragment),new Pe(e.data),e.outlet,e.component,e)}var sr=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Sl="ngNavigationCancelingError";function Ri(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=er(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=_l(!1,Me.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _l(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Sl]=!0,n.cancellationCode=t,n}function vh(e){return vl(e)&&er(e.url)}function vl(e){return!!e&&e[Sl]}var Eh=(e,t,n,r)=>V(i=>(new Hs(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Hs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ss(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=cn(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=cn(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=cn(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=cn(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ls(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ds(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Ss(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Ss(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},xi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},dn=class{component;route;constructor(t,n){this.component=t,this.route=n}};function Ih(e,t,n){let r=e._root,i=t?t._root:null;return Kn(r,i,n,[r.value])}function bh(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function gn(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!vu(e)?e:t.get(e):r}function Kn(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cn(t);return e.children.forEach(s=>{Th(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Qn(c,n.getContext(s),i)),i}function Th(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let a=wh(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new xi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Kn(e,t,c?c.children:null,r,i):Kn(e,t,n,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new dn(c.outlet.component,s))}else s&&Qn(t,c,i),i.canActivateChecks.push(new xi(r)),o.component?Kn(e,null,c?c.children:null,r,i):Kn(e,null,n,r,i);return i}function wh(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Vt(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Vt(e.url,t.url)||!tt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bs(e,t)||!tt(e.queryParams,t.queryParams);case"paramsChange":default:return!Bs(e,t)}}function Qn(e,t,n){let r=cn(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Qn(s,t.children.getContext(o),n):Qn(s,null,n):Qn(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new dn(t.outlet.component,i)):n.canDeactivateChecks.push(new dn(null,i)):n.canDeactivateChecks.push(new dn(null,i))}function dr(e){return typeof e=="function"}function Ch(e){return typeof e=="boolean"}function Rh(e){return e&&dr(e.canLoad)}function xh(e){return e&&dr(e.canActivate)}function Ah(e){return e&&dr(e.canActivateChild)}function kh(e){return e&&dr(e.canDeactivate)}function Mh(e){return e&&dr(e.canMatch)}function El(e){return e instanceof hu||e?.name==="EmptyError"}var gi=Symbol("INITIAL_VALUE");function mn(){return et(e=>rs(e.map(t=>t.pipe(sn(1),Su(gi)))).pipe(V(t=>{for(let n of t)if(n!==!0){if(n===gi)return gi;if(n===!1||Oh(n))return n}return!0}),on(t=>t!==gi),sn(1)))}function Oh(e){return er(e)||e instanceof sr}function Dh(e,t){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(E(f({},n),{guardsResult:!0})):Nh(s,r,i,e).pipe(Ue(c=>c&&Ch(c)?Lh(r,o,e,t):O(c)),V(c=>E(f({},n),{guardsResult:c})))})}function Nh(e,t,n,r){return We(e).pipe(Ue(i=>$h(i.component,i.route,n,t,r)),Ct(i=>i!==!0,!0))}function Lh(e,t,n,r){return We(t).pipe(Gn(i=>mu(Uh(i.route.parent,r),Ph(i.route,r),Bh(e,i.path,n),Fh(e,i.route,n))),Ct(i=>i!==!0,!0))}function Ph(e,t){return e!==null&&t&&t(new Ns(e)),O(!0)}function Uh(e,t){return e!==null&&t&&t(new Os(e)),O(!0)}function Fh(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>is(()=>{let s=lr(t)??n,c=gn(o,s),a=xh(c)?c.canActivate(t,e):pt(s,()=>c(t,e));return Rt(a).pipe(Ct())}));return O(i).pipe(mn())}function Bh(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>bh(s)).filter(s=>s!==null).map(s=>is(()=>{let c=s.guards.map(a=>{let u=lr(s.node)??n,d=gn(a,u),l=Ah(d)?d.canActivateChild(r,e):pt(u,()=>d(r,e));return Rt(l).pipe(Ct())});return O(c).pipe(mn())}));return O(o).pipe(mn())}function $h(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(c=>{let a=lr(t)??i,u=gn(c,a),d=kh(u)?u.canDeactivate(e,t,n,r):pt(a,()=>u(e,t,n,r));return Rt(d).pipe(Ct())});return O(s).pipe(mn())}function Hh(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let c=gn(s,e),a=Rh(c)?c.canLoad(t,n):pt(e,()=>c(t,n));return Rt(a)});return O(o).pipe(mn(),Il(r))}function Il(e){return fu(me(t=>{if(typeof t!="boolean")throw Ri(e,t)}),V(t=>t===!0))}function jh(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let c=gn(s,e),a=Mh(c)?c.canMatch(t,n):pt(e,()=>c(t,n));return Rt(a)});return O(o).pipe(mn(),Il(r))}var ar=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},cr=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function an(e){return Gt(new ar(e))}function zh(e){return Gt(new pe(4e3,!1))}function Wh(e){return Gt(_l(!1,Me.GuardRejected))}var js=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[D])return zh(`${t.redirectTo}`);i=i.children[D]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:a,fragment:u,routeConfig:d,url:l,outlet:p,params:m,data:h,title:g}=i,S=pt(o,()=>c({params:m,data:h,queryParams:a,fragment:u,routeConfig:d,url:l,outlet:p,title:g}));if(S instanceof mt)throw new cr(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new cr(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new mt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,a])=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new q(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new pe(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},zs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gh(e,t,n,r,i){let o=bl(e,t,n);return o.matched?(r=ph(t,r),jh(r,t,n,i).pipe(V(s=>s===!0?o:f({},zs)))):O(o)}function bl(e,t,n){if(t.path==="**")return qh(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?f({},zs):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Hp)(n,e,t);if(!i)return f({},zs);let o={};Object.entries(i.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let s=i.consumed.length>0?f(f({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function qh(e){return{matched:!0,parameters:e.length>0?nl(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Qu(e,t,n,r){return n.length>0&&Kh(e,n,r)?{segmentGroup:new q(t,Yh(r,new q(n,e.children))),slicedSegments:[]}:n.length===0&&Jh(e,n,r)?{segmentGroup:new q(e.segments,Vh(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new q(e.segments,e.children),slicedSegments:n}}function Vh(e,t,n,r){let i={};for(let o of n)if(ki(e,t,o)&&!r[Ge(o)]){let s=new q([],{});i[Ge(o)]=s}return f(f({},r),i)}function Yh(e,t){let n={};n[D]=t;for(let r of e)if(r.path===""&&Ge(r)!==D){let i=new q([],{});n[Ge(r)]=i}return n}function Kh(e,t,n){return n.some(r=>ki(e,t,r)&&Ge(r)!==D)}function Jh(e,t,n){return n.some(r=>ki(e,t,r))}function ki(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Xh(e,t,n){return t.length===0&&!e.children[n]}var Ws=class{};function Qh(e,t,n,r,i,o,s="emptyOnly"){return new Gs(e,t,n,r,i,s,o).recognize()}var Zh=31,Gs=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new js(this.urlSerializer,this.urlTree)}noMatchError(t){return new pe(4002,`'${t.segmentGroup}'`)}recognize(){let t=Qu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(V(({children:n,rootSnapshot:r})=>{let i=new ke(r,n),o=new Ci("",i),s=sh(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ln([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),D,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,D,n).pipe(V(r=>({children:r,rootSnapshot:n})),wt(r=>{if(r instanceof cr)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ar?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(V(s=>s instanceof ke?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return We(o).pipe(Gn(s=>{let c=r.children[s],a=hh(n,s);return this.processSegmentGroup(t,a,c,s,i)}),yu((s,c)=>(s.push(...c),s)),os(null),gu(),Ue(s=>{if(s===null)return an(r);let c=Tl(s);return em(c),O(c)}))}processSegment(t,n,r,i,o,s,c){return We(n).pipe(Gn(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s,c).pipe(wt(u=>{if(u instanceof ar)return O(null);throw u}))),Ct(a=>!!a),wt(a=>{if(El(a))return Xh(r,i,o)?O(new Ws):an(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,c,a){return Ge(r)!==s&&(s===D||!ki(i,o,r))?an(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,a):an(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:l,remainingSegments:p}=bl(n,i,o);if(!a)return an(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Zh&&(this.allowRedirects=!1));let m=new ln(o,u,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Zu(i),Ge(i),i.component??i._loadedComponent??null,i,el(i)),h=wi(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(h.params),m.data=Object.freeze(h.data);let g=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,l,m,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Ue(S=>this.processSegment(t,r,n,S.concat(p),s,!1,c)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let c=Gh(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(et(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(et(({routes:u})=>{let d=r._loadedInjector??t,{parameters:l,consumedSegments:p,remainingSegments:m}=a,h=new ln(p,l,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Zu(r),Ge(r),r.component??r._loadedComponent??null,r,el(r)),g=wi(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:S,slicedSegments:_}=Qu(n,p,m,u);if(_.length===0&&S.hasChildren())return this.processChildren(d,u,S,h).pipe(V(U=>new ke(h,U)));if(u.length===0&&_.length===0)return O(new ke(h,[]));let R=Ge(r)===o;return this.processSegment(d,u,S,_,R?D:o,!0,h).pipe(V(U=>new ke(h,U instanceof ke?[U]:[])))}))):an(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):Hh(t,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(t,n).pipe(me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Wh(n))):O({routes:[],injector:t})}};function em(e){e.sort((t,n)=>t.value.outlet===D?-1:n.value.outlet===D?1:t.value.outlet.localeCompare(n.value.outlet))}function tm(e){let t=e.value.routeConfig;return t&&t.path===""}function Tl(e){let t=[],n=new Set;for(let r of e){if(!tm(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Tl(r.children);t.push(new ke(r.value,i))}return t.filter(r=>!n.has(r))}function Zu(e){return e.data||{}}function el(e){return e.resolve||{}}function nm(e,t,n,r,i,o){return Ue(s=>Qh(e,t,n,r,s.extractedUrl,i,o).pipe(V(({state:c,tree:a})=>E(f({},s),{targetSnapshot:c,urlAfterRedirects:a}))))}function rm(e,t){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(a=>a.route)),s=new Set;for(let a of o)if(!s.has(a))for(let u of wl(a))s.add(u);let c=0;return We(s).pipe(Gn(a=>o.has(a)?im(a,r,e,t):(a.data=wi(a,a.parent,e).resolve,O(void 0))),me(()=>c++),ss(1),Ue(a=>c===s.size?O(n):ft))})}function wl(e){let t=e.children.map(n=>wl(n)).flat();return[e,...t]}function im(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!yl(i)&&(o[ur]=i.title),om(o,e,t,r).pipe(V(s=>(e._resolvedData=s,e.data=wi(e,e.parent,n).resolve,null)))}function om(e,t,n,r){let i=Es(e);if(i.length===0)return O({});let o={};return We(i).pipe(Ue(s=>sm(e[s],t,n,r).pipe(Ct(),me(c=>{if(c instanceof sr)throw Ri(new Zn,c);o[s]=c}))),ss(1),V(()=>o),wt(s=>El(s)?ft:Gt(s)))}function sm(e,t,n,r){let i=lr(t)??r,o=gn(e,i),s=o.resolve?o.resolve(t,n):pt(i,()=>o(t,n));return Rt(s)}function _s(e){return et(t=>{let n=e(t);return n?We(n).pipe(V(()=>t)):O(t)})}var Cl=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===D);return r}getResolvedTitleForRoute(n){return n.data[ur]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:()=>A(am),providedIn:"root"})}return e})(),am=(()=>{class e extends Cl{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(qn(Wu))};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qs=new Ae("",{providedIn:"root",factory:()=>({})}),cm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=di({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fi(0,"router-outlet")},dependencies:[Js],encapsulation:2})}return e})();function Zs(e){let t=e.children&&e.children.map(Zs),n=t?E(f({},e),{children:t}):f({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==D&&(n.component=cm),n}var ea=new Ae(""),um=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(fs);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Rt(n.loadComponent()).pipe(V(Rl),me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ai(()=>{this.componentLoaders.delete(n)})),i=new ns(r,()=>new Wt).pipe(ts());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=lm(r,this.compiler,n,this.onLoadEndListener).pipe(ai(()=>{this.childrenLoaders.delete(r)})),s=new ns(o,()=>new Wt).pipe(ts());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lm(e,t,n,r){return Rt(e.loadChildren()).pipe(V(Rl),Ue(i=>i instanceof Mu||Array.isArray(i)?O(i):We(t.compileModuleAsync(i))),V(i=>{r&&r(e);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(ea,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zs),injector:o}}))}function dm(e){return e&&typeof e=="object"&&"default"in e}function Rl(e){return dm(e)?e.default:e}var ta=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:()=>A(fm),providedIn:"root"})}return e})(),fm=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pm=new Ae("");var hm=new Ae(""),mm=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Wt;transitionAbortSubject=new Wt;configLoader=A(um);environmentInjector=A(ui);destroyRef=A(Iu);urlSerializer=A(Ys);rootContexts=A(Ai);location=A(hi);inputBindingEnabled=A(Xs,{optional:!0})!==null;titleStrategy=A(Cl);options=A(Qs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(ta);createViewTransition=A(pm,{optional:!0});navigationErrorHandler=A(hm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ks(i)),r=i=>this.events.next(new Ms(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(E(f(f({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Pe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xn,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(on(o=>o.id!==0),V(o=>E(f({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,c=!1;return O(o).pipe(et(a=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Me.SupersededByNewNavigation),ft;this.currentTransition=o,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?E(f({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let l="";return this.events.next(new Kt(a.id,this.urlSerializer.serialize(a.rawUrl),l,ws.IgnoredSameUrlNavigation)),a.resolve(!1),ft}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return O(a).pipe(et(l=>{let p=this.transitions?.getValue();return this.events.next(new nr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),p!==this.transitions?.getValue()?ft:Promise.resolve(l)}),nm(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),me(l=>{o.targetSnapshot=l.targetSnapshot,o.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=E(f({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let p=new Ii(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:l,extractedUrl:p,source:m,restoredState:h,extras:g}=a,S=new nr(l,this.urlSerializer.serialize(p),m,h);this.events.next(S);let _=ml(this.rootComponentType).snapshot;return this.currentTransition=o=E(f({},a),{targetSnapshot:_,urlAfterRedirects:p,extras:E(f({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,O(o)}else{let l="";return this.events.next(new Kt(a.id,this.urlSerializer.serialize(a.extractedUrl),l,ws.IgnoredByUrlHandlingStrategy)),a.resolve(!1),ft}}),me(a=>{let u=new Cs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),V(a=>(this.currentTransition=o=E(f({},a),{guards:Ih(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),o)),Dh(this.environmentInjector,a=>this.events.next(a)),me(a=>{if(o.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Ri(this.urlSerializer,a.guardsResult);let u=new Rs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),on(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Me.GuardRejected),!1)),_s(a=>{if(a.guards.canActivateChecks.length)return O(a).pipe(me(u=>{let d=new xs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),et(u=>{let d=!1;return O(u).pipe(rm(this.paramsInheritanceStrategy,this.environmentInjector),me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Me.NoDataFromResolver)}}))}),me(u=>{let d=new As(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),_s(a=>{let u=d=>{let l=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(d.routeConfig).pipe(me(p=>{d.component=p}),V(()=>{})));for(let p of d.children)l.push(...u(p));return l};return rs(u(a.targetSnapshot.root)).pipe(os(null),sn(1))}),_s(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:a,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?We(d).pipe(V(()=>o)):O(o)}),V(a=>{let u=yh(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=o=E(f({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),me(()=>{this.events.next(new ir)}),Eh(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),sn(1),me({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),_u(this.transitionAbortSubject.pipe(me(a=>{throw a}))),ai(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",Me.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wt(a=>{if(this.destroyed)return o.resolve(!1),ft;if(c=!0,vl(a))this.events.next(new ht(o.id,this.urlSerializer.serialize(o.extractedUrl),a.message,a.cancellationCode)),vh(a)?this.events.next(new pn(a.url,a.navigationBehaviorOptions)):o.resolve(!1);else{let u=new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),a,o.targetSnapshot??void 0);try{let d=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof sr){let{message:l,cancellationCode:p}=Ri(this.urlSerializer,d);this.events.next(new ht(o.id,this.urlSerializer.serialize(o.extractedUrl),l,p)),this.events.next(new pn(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ft}))}))}cancelNavigationTransition(n,r,i){let o=new ht(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gm(e){return e!==Xn}var ym=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:()=>A(Sm),providedIn:"root"})}return e})(),qs=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Sm=(()=>{class e extends qs{static \u0275fac=(()=>{let n;return function(i){return(n||(n=cs(e)))(i||e)}})();static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:()=>A(_m),providedIn:"root"})}return e})(),_m=(()=>{class e extends xl{location=A(hi);urlSerializer=A(Ys);options=A(Qs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=A(ta);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new mt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ml(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof nr)this.stateMemento=this.createStateMemento();else if(n instanceof Kt)this.rawUrlTree=r.initialUrl;else if(n instanceof Ii){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ir?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof ht&&(n.code===Me.GuardRejected||n.code===Me.NoDataFromResolver)?this.restoreHistory(r):n instanceof rr?this.restoreHistory(r,!0):n instanceof Yt&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof mt?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=f(f({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=f(f({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=cs(e)))(i||e)}})();static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vm(e,t){e.events.pipe(on(n=>n instanceof Yt||n instanceof ht||n instanceof rr||n instanceof Kt),V(n=>n instanceof Yt||n instanceof Kt?0:(n instanceof ht?n.code===Me.Redirect||n.code===Me.SupersededByNewNavigation:!1)?2:1),on(n=>n!==2),sn(1)).subscribe(()=>{t()})}var Em={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Im={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Al=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(Du);stateManager=A(xl);options=A(Qs,{optional:!0})||{};pendingTasks=A(Tu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(mm);urlSerializer=A(Ys);location=A(hi);urlHandlingStrategy=A(ta);_events=new Wt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(ym);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(ea,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(Xs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new du;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ht&&r.code!==Me.Redirect&&r.code!==Me.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yt)this.navigated=!0;else if(r instanceof pn){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=f({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gm(i.source)},s);this.scheduleNavigation(c,Xn,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Tm(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let a=f({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Zs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:s,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=f(f({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let l;try{let p=i?i.snapshot:this.routerState.snapshot.root;l=dl(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),l=this.currentUrlTree.root}return fl(l,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=er(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Xn,null,r)}navigate(n,r={skipLocationChange:!1}){return bm(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=f({},Em):r===!1?i=f({},Im):i=r,er(n))return Yu(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Yu(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,a,u;s?(c=s.resolve,a=s.reject,u=s.promise):u=new Promise((l,p)=>{c=l,a=p});let d=this.pendingTasks.add();return vm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(l=>Promise.reject(l))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bm(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new pe(4008,!1)}function Tm(e){return!(e instanceof ir)&&!(e instanceof pn)}var wm=new Ae("");function kl(e,...t){return ci([{provide:ea,multi:!0,useValue:e},[],{provide:hn,useFactory:Cm,deps:[Al]},{provide:Lu,multi:!0,useFactory:Rm},t.map(n=>n.\u0275providers)])}function Cm(e){return e.routerState.root}function Rm(){let e=A(li);return t=>{let n=e.get(Pu);if(t!==n.components[0])return;let r=e.get(Al),i=e.get(xm);e.get(Am)===1&&r.initialNavigation(),e.get(km,null,as.Optional)?.setUpPreloading(),e.get(wm,null,as.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var xm=new Ae("",{factory:()=>new Wt}),Am=new Ae("",{providedIn:"root",factory:()=>1});var km=new Ae("");var Mm="@",Om=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=A(li);loadingSchedulerFn=A(Dm,{optional:!0});_engine;constructor(n,r,i,o,s){this.doc=n,this.delegate=r,this.zone=i,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let n=()=>this.moduleImpl??import("./chunk-LRO7VIRM.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(n):r=n(),r.catch(i=>{throw new pe(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let i=this.delegate.createRenderer(n,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new na(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(n,r);o.use(c),this.scheduler??=this.injector.get(bu,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(n){this._engine?.flush(),this.delegate.componentReplaced?.(n)}static \u0275fac=function(r){ls()};static \u0275prov=le({token:e,factory:e.\u0275fac})}return e})(),na=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,r,i){this.delegate.insertBefore(t,n,r,i)}removeChild(t,n,r){this.delegate.removeChild(t,n,r)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,r,i){this.delegate.setAttribute(t,n,r,i)}removeAttribute(t,n,r){this.delegate.removeAttribute(t,n,r)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,r,i){this.delegate.setStyle(t,n,r,i)}removeStyle(t,n,r){this.delegate.removeStyle(t,n,r)}setProperty(t,n,r){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(t,n,r)),this.delegate.setProperty(t,n,r)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,r,i){return this.shouldReplay(n)&&this.replay.push(o=>o.listen(t,n,r,i)),this.delegate.listen(t,n,r,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(Mm)}},Dm=new Ae("");function Ml(e="animations"){return Ru("NgAsyncAnimations"),ci([{provide:Au,useFactory:(t,n,r)=>new Om(t,n,r,e),deps:[hs,ju,us]},{provide:xu,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var qe="8.53.0";var b=globalThis;function xt(e,t,n){let r=n||b,i=r.__SENTRY__=r.__SENTRY__||{},o=i[qe]=i[qe]||{};return o[e]||(o[e]=t())}var Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Nm="Sentry Logger ",fr=["debug","info","warn","error","log","assert","trace"],yn={};function de(e){if(!("console"in b))return e();let t=b.console,n={},r=Object.keys(yn);r.forEach(i=>{let o=yn[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Lm(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Be?fr.forEach(n=>{t[n]=(...r)=>{e&&de(()=>{b.console[n](`${Nm}[${n}]:`,...r)})}}):fr.forEach(n=>{t[n]=()=>{}}),t}var y=xt("logger",Lm);var nt="?",Ol=/\(error: (.*)\)/,Dl=/captureMessage|captureException/;function Oi(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{let o=[],s=n.split(`
`);for(let c=r;c<s.length;c++){let a=s[c];if(a.length>1024)continue;let u=Ol.test(a)?a.replace(Ol,"$1"):a;if(!u.match(/\S*Error: /)){for(let d of t){let l=d(u);if(l){o.push(l);break}}if(o.length>=50+i)break}}return Nl(o.slice(i))}}function ia(e){return Array.isArray(e)?Oi(...e):e}function Nl(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(Mi(t).function||"")&&t.pop(),t.reverse(),Dl.test(Mi(t).function||"")&&(t.pop(),Dl.test(Mi(t).function||"")&&t.pop()),t.slice(0,50).map(n=>E(f({},n),{filename:n.filename||Mi(t).filename,function:n.function||nt}))}function Mi(e){return e[e.length-1]||{}}var ra="<anonymous>";function Ce(e){try{return!e||typeof e!="function"?ra:e.name||ra}catch{return ra}}function Di(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Ni={},Ll={};function ye(e,t){Ni[e]=Ni[e]||[],Ni[e].push(t)}function Se(e,t){if(!Ll[e]){Ll[e]=!0;try{t()}catch(n){Be&&y.error(`Error while instrumenting ${e}`,n)}}}function ce(e,t){let n=e&&Ni[e];if(n)for(let r of n)try{r(t)}catch(i){Be&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ce(r)}
Error:`,i)}}var oa=null;function sa(e){let t="error";ye(t,e),Se(t,Pm)}function Pm(){oa=b.onerror,b.onerror=function(e,t,n,r,i){return ce("error",{column:r,error:i,line:n,msg:e,url:t}),oa?oa.apply(this,arguments):!1},b.onerror.__SENTRY_INSTRUMENTED__=!0}var aa=null;function ca(e){let t="unhandledrejection";ye(t,e),Se(t,Um)}function Um(){aa=b.onunhandledrejection,b.onunhandledrejection=function(e){return ce("unhandledrejection",e),aa?aa.apply(this,arguments):!0},b.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function gt(){return pr(b),b}function pr(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||qe,t[qe]=t[qe]||{}}var Pl=Object.prototype.toString;function Jt(e){switch(Pl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return rt(e,Error)}}function Sn(e,t){return Pl.call(e)===`[object ${t}]`}function Li(e){return Sn(e,"ErrorEvent")}function Pi(e){return Sn(e,"DOMError")}function ua(e){return Sn(e,"DOMException")}function ue(e){return Sn(e,"String")}function _n(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Xt(e){return e===null||_n(e)||typeof e!="object"&&typeof e!="function"}function Ve(e){return Sn(e,"Object")}function Qt(e){return typeof Event<"u"&&rt(e,Event)}function la(e){return typeof Element<"u"&&rt(e,Element)}function da(e){return Sn(e,"RegExp")}function yt(e){return!!(e&&e.then&&typeof e.then=="function")}function fa(e){return Ve(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function rt(e,t){try{return e instanceof t}catch{return!1}}function hr(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}var pa=b,Fm=80;function At(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,i=[],o=0,s=0,c=" > ",a=c.length,u,d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Fm;for(;n&&o++<r&&(u=Bm(n,d),!(u==="html"||o>1&&s+i.length*a+u.length>=l));)i.push(u),s+=u.length,n=n.parentNode;return i.reverse().join(c)}catch{return"<unknown>"}}function Bm(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(pa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let i=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&ue(s)){let c=s.split(/\s+/);for(let a of c)r.push(`.${a}`)}}let o=["aria-label","type","name","title","alt"];for(let s of o){let c=n.getAttribute(s);c&&r.push(`[${s}="${c}"]`)}return r.join("")}function mr(){try{return pa.document.location.href}catch{return""}}function ha(e){if(!pa.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function it(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ui(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let i=e[r];try{hr(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Ul(e,t,n=!1){return ue(e)?da(t)?t.test(e):ue(t)?n?e===t:e.includes(t):!1:!1}function kt(e,t=[],n=!1){return t.some(r=>Ul(e,r,n))}function se(e,t,n){if(!(t in e))return;let r=e[t],i=n(r);typeof i=="function"&&Fi(i,r);try{e[t]=i}catch{Be&&y.log(`Failed to replace method "${t}" in object`,e)}}function _e(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Be&&y.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Fi(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,_e(e,"__sentry_original__",t)}catch{}}function Zt(e){return e.__sentry_original__}function Bi(e){if(Jt(e))return f({message:e.message,name:e.name,stack:e.stack},Bl(e));if(Qt(e)){let t=f({type:e.type,target:Fl(e.target),currentTarget:Fl(e.currentTarget)},Bl(e));return typeof CustomEvent<"u"&&rt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Fl(e){try{return la(e)?At(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Bl(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function ga(e,t=40){let n=Object.keys(Bi(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return it(r,t);for(let i=n.length;i>0;i--){let o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:it(o,t)}return""}function te(e){return ma(e,new Map)}function ma(e,t){if($m(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(r[i]=ma(e[i],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(i=>{r.push(ma(i,t))}),r}return e}function $m(e){if(!Ve(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var $l=1e3;function ot(){return Date.now()/$l}function Hm(){let{performance:e}=b;if(!e||!e.now)return ot;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/$l}var ve=Hm(),gr,ya=(()=>{let{performance:e}=b;if(!e||!e.now){gr="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a=typeof s=="number"?Math.abs(s+n-r):t,u=a<t;return o||u?i<=a?(gr="timeOrigin",e.timeOrigin):(gr="navigationStart",s):(gr="dateNow",r)})();function ae(){let e=b,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Hl(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Ye(e){let{message:t,event_id:n}=e;if(t)return t;let r=Hl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function vn(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function st(e,t){let n=Hl(e);if(!n)return;let r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism=f(f(f({},r),i),t),t&&"data"in t){let o=f(f({},i&&i.data),t.data);n.mechanism.data=o}}function $i(e){if(jm(e))return!0;try{_e(e,"__sentry_captured__",!0)}catch{}return!1}function jm(e){try{return e.__sentry_captured__}catch{}}var St;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(St||(St={}));function Ee(e){return new Ke(t=>{t(e)})}function Mt(e){return new Ke((t,n)=>{n(e)})}var Ke=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=St.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,i)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(s){i(s)}},o=>{if(!n)i(o);else try{r(n(o))}catch(s){i(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{if(o){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(St.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(St.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===St.PENDING){if(yt(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===St.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===St.RESOLVED&&n[1](this._value),this._state===St.REJECTED&&n[2](this._value),n[0]=!0)})}}};function jl(e){let t=ve(),n={sid:ae(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>zm(n)};return e&&_t(n,e),n}function _t(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ve(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ae()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function zl(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),_t(e,n)}function zm(e){return te({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function Sa(){return ae()}function yr(){return ae().substring(16)}function En(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;let r=f({},e);for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=En(r[i],t[i],n-1));return r}var _a="_sentrySpan";function va(e,t){t?_e(e,_a,t):delete e[_a]}function Sr(e){return e[_a]}var Wm=100,Ea=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Sa(),spanId:yr()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags=f({},this._tags),t._extra=f({},this._extra),t._contexts=f({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata=f({},this._sdkProcessingMetadata),t._propagationContext=f({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,va(t,Sr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&_t(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags=f(f({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=E(f({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=f(f({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=E(f({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,i]=n instanceof Oe?[n.getScopeData(),n.getRequestSession()]:Ve(n)?[t,t.requestSession]:[],{tags:o,extra:s,user:c,contexts:a,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags=f(f({},this._tags),o),this._extra=f(f({},this._extra),s),this._contexts=f(f({},this._contexts),a),c&&Object.keys(c).length&&(this._user=c),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,va(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Sa()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:Wm;if(r<=0)return this;let i=f({timestamp:ot()},t);return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Sr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=En(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=f({spanId:yr()},t),this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:ae();if(!this._client)return y.warn("No client configured on scope - will not capture exception!"),r;let i=new Error("Sentry syntheticException");return this._client.captureException(t,E(f({originalException:t,syntheticException:i},n),{event_id:r}),this),r}captureMessage(t,n,r){let i=r&&r.event_id?r.event_id:ae();if(!this._client)return y.warn("No client configured on scope - will not capture message!"),i;let o=new Error(t);return this._client.captureMessage(t,n,E(f({originalException:t,syntheticException:o},r),{event_id:i}),this),i}captureEvent(t,n){let r=n&&n.event_id?n.event_id:ae();return this._client?(this._client.captureEvent(t,E(f({},n),{event_id:r}),this),r):(y.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},Oe=Ea;function Wl(){return xt("defaultCurrentScope",()=>new Oe)}function Gl(){return xt("defaultIsolationScope",()=>new Oe)}var Ia=class{constructor(t,n){let r;t?r=t:r=new Oe;let i;n?i=n:i=new Oe,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(i){throw this._popScope(),i}return yt(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function In(){let e=gt(),t=pr(e);return t.stack=t.stack||new Ia(Wl(),Gl())}function Gm(e){return In().withScope(e)}function qm(e,t){let n=In();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function ql(e){return In().withScope(()=>e(In().getIsolationScope()))}function Vl(){return{withIsolationScope:ql,withScope:Gm,withSetScope:qm,withSetIsolationScope:(e,t)=>ql(t),getCurrentScope:()=>In().getScope(),getIsolationScope:()=>In().getIsolationScope()}}function bn(e){let t=pr(e);return t.acs?t.acs:Vl()}function ne(){let e=gt();return bn(e).getCurrentScope()}function Ie(){let e=gt();return bn(e).getIsolationScope()}function Hi(){return xt("globalScope",()=>new Oe)}function ji(...e){let t=gt(),n=bn(t);if(e.length===2){let[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function P(){return ne().getClient()}function ba(e){let t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=t;return te({trace_id:n,span_id:r,parent_span_id:i})}var Vm="_sentryMetrics";function Yl(e){let t=e[Vm];if(!t)return;let n={};for(let[,[r,i]]of t)(n[r]||(n[r]=[])).push(te(i));return n}var Ot="sentry.source",zi="sentry.sample_rate",Wi="sentry.op",_r="sentry.origin";var Ym="sentry-",Km=/^sentry-/;function Jl(e){let t=Jm(e);if(!t)return;let n=Object.entries(t).reduce((r,[i,o])=>{if(i.match(Km)){let s=i.slice(Ym.length);r[s]=o}return r},{});if(Object.keys(n).length>0)return n}function Jm(e){if(!(!e||!ue(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Kl(n);return Object.entries(r).forEach(([i,o])=>{t[i]=o}),t},{}):Kl(e)}function Kl(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}var Qm=1,Xl=!1;function wa(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Je(e).parent_span_id,o=r?yr():t;return te({parent_span_id:i,span_id:o,trace_id:n})}function Ta(e){return typeof e=="number"?Ql(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Ql(e.getTime()):ve()}function Ql(e){return e>9999999999?e/1e3:e}function Je(e){if(eg(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(Zm(e)){let{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:c,status:a}=e;return te({span_id:t,trace_id:n,data:r,description:o,parent_span_id:c,start_timestamp:Ta(i),timestamp:Ta(s)||void 0,status:Zl(a),op:r[Wi],origin:r[_r],_metrics_summary:Yl(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function Zm(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function eg(e){return typeof e.getSpanJSON=="function"}function Ca(e){let{traceFlags:t}=e.spanContext();return t===Qm}function Zl(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var tg="_sentryRootSpan";function vt(e){return e[tg]||e}function Tn(){let e=gt(),t=bn(e);return t.getActiveSpan?t.getActiveSpan():Sr(ne())}function ed(){Xl||(de(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Xl=!0)}function td(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=P(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}var wn="production";var ng="_frozenDsc";function Ra(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=te({environment:n.environment||wn,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function xa(e,t){let n=t.getPropagationContext();return n.dsc||Ra(n.traceId,e)}function vr(e){let t=P();if(!t)return{};let n=vt(e),r=n[ng];if(r)return r;let i=n.spanContext().traceState,o=i&&i.get("sentry.dsc"),s=o&&Jl(o);if(s)return s;let c=Ra(e.spanContext().traceId,t),a=Je(n),u=a.data||{},d=u[zi];d!=null&&(c.sample_rate=`${d}`);let l=u[Ot],p=a.description;return l!=="url"&&p&&(c.transaction=p),td()&&(c.sampled=String(Ca(n))),t.emit("createDsc",c,n),c}function Cn(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){B&&y.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}var rg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ig(e){return e==="http"||e==="https"}function Xe(e,t=!1){let{host:n,path:r,pass:i,port:o,projectId:s,protocol:c,publicKey:a}=e;return`${c}://${a}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function nd(e){let t=rg.exec(e);if(!t){de(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,i="",o="",s="",c=""]=t.slice(1),a="",u=c,d=u.split("/");if(d.length>1&&(a=d.slice(0,-1).join("/"),u=d.pop()),u){let l=u.match(/^\d+/);l&&(u=l[0])}return rd({host:o,pass:i,path:a,projectId:u,port:s,protocol:n,publicKey:r})}function rd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function og(e){if(!Be)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(s=>e[s]?!1:(y.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?ig(r)?t&&isNaN(parseInt(t,10))?(y.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(y.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(y.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Er(e){let t=typeof e=="string"?nd(e):rd(e);if(!(!t||!og(t)))return t}function id(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let o=0;o<t.length;o++)if(t[o]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}return[n,r]}function be(e,t=100,n=1/0){try{return Aa("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Gi(e,t=3,n=100*1024){let r=be(e,t);return ug(r)>n?Gi(e,t-1,n):r}function Aa(e,t,n=1/0,r=1/0,i=id()){let[o,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let c=sg(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;let a=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(a===0)return c.replace("object ","");if(o(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let m=u.toJSON();return Aa("",m,a-1,r,i)}catch{}let d=Array.isArray(t)?[]:{},l=0,p=Bi(t);for(let m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(l>=r){d[m]="[MaxProperties ~]";break}let h=p[m];d[m]=Aa(m,h,a-1,r,i),l++}return s(t),d}function sg(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(hr(t))return"[VueViewModel]";if(fa(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ce(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=ag(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function ag(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function cg(e){return~-encodeURI(e).split(/%..|./).length}function ug(e){return cg(JSON.stringify(e))}function $e(e,t=[]){return[e,t]}function Ma(e,t){let[n,r]=e;return[n,[...r,t]]}function qi(e,t){let n=e[1];for(let r of n){let i=r[0].type;if(t(r,i))return!0}return!1}function ka(e){return b.__SENTRY__&&b.__SENTRY__.encodePolyfill?b.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Oa(e){let[t,n]=e,r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[ka(r),o]:r.push(typeof o=="string"?ka(o):o)}for(let o of n){let[s,c]=o;if(i(`
${JSON.stringify(s)}
`),typeof c=="string"||c instanceof Uint8Array)i(c);else{let a;try{a=JSON.stringify(c)}catch{a=JSON.stringify(be(c))}i(a)}}return typeof r=="string"?r:lg(r)}function lg(e){let t=e.reduce((i,o)=>i+o.length,0),n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.length;return n}function Da(e){let t=typeof e.data=="string"?ka(e.data):e.data;return[te({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var dg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Vi(e){return dg[e]}function Rn(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ir(e,t,n,r){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return f(f(f({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:Xe(r)}),i&&{trace:te(f({},i))})}function pg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function od(e,t,n,r){let i=Rn(n),o=f(f({sent_at:new Date().toISOString()},i&&{sdk:i}),!!r&&t&&{dsn:Xe(t)}),s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return $e(o,[s])}function sd(e,t,n,r){let i=Rn(n),o=e.type&&e.type!=="replay_event"?e.type:"event";pg(e,n&&n.sdk);let s=Ir(e,i,r,t);return delete e.sdkProcessingMetadata,$e(s,[[{type:o},e]])}function Yi(e,t,n,r=0){return new Ke((i,o)=>{let s=e[r];if(t===null||typeof s!="function")i(t);else{let c=s(f({},t),n);B&&s.id&&c===null&&y.log(`Event processor "${s.id}" dropped event`),yt(c)?c.then(a=>Yi(e,a,n,r+1).then(i)).then(null,o):Yi(e,c,n,r+1).then(i).then(null,o)}})}var Ki,ad,Ji;function cd(e){let t=b._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return Ji&&n.length===ad||(ad=n.length,Ji=n.reduce((r,i)=>{Ki||(Ki={});let o=Ki[i];if(o)r[o[0]]=o[1];else{let s=e(i);for(let c=s.length-1;c>=0;c--){let a=s[c],u=a&&a.filename,d=t[i];if(u&&d){r[u]=d,Ki[i]=[u,d];break}}}return r},{})),Ji}function ud(e,t){let{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;hg(e,t),r&&yg(e,r),Sg(e,n),mg(e,i),gg(e,o)}function Na(e,t){let{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:c,breadcrumbs:a,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:m,span:h}=t;Xi(e,"extra",n),Xi(e,"tags",r),Xi(e,"user",i),Xi(e,"contexts",o),e.sdkProcessingMetadata=En(e.sdkProcessingMetadata,c,2),s&&(e.level=s),m&&(e.transactionName=m),h&&(e.span=h),a.length&&(e.breadcrumbs=[...e.breadcrumbs,...a]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext=f(f({},e.propagationContext),p)}function Xi(e,t,n){e[t]=En(e[t],n,1)}function hg(e,t){let{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:c}=t,a=te(n);a&&Object.keys(a).length&&(e.extra=f(f({},a),e.extra));let u=te(r);u&&Object.keys(u).length&&(e.tags=f(f({},u),e.tags));let d=te(i);d&&Object.keys(d).length&&(e.user=f(f({},d),e.user));let l=te(o);l&&Object.keys(l).length&&(e.contexts=f(f({},l),e.contexts)),s&&(e.level=s),c&&e.type!=="transaction"&&(e.transaction=c)}function mg(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function gg(e,t){e.sdkProcessingMetadata=f(f({},e.sdkProcessingMetadata),t)}function yg(e,t){e.contexts=f({trace:wa(t)},e.contexts),e.sdkProcessingMetadata=f({dynamicSamplingContext:vr(t)},e.sdkProcessingMetadata);let n=vt(t),r=Je(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Sg(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function br(e,t,n,r,i,o){let{normalizeDepth:s=3,normalizeMaxBreadth:c=1e3}=e,a=E(f({},t),{event_id:t.event_id||n.event_id||ae(),timestamp:t.timestamp||ot()}),u=n.integrations||e.integrations.map(S=>S.name);_g(a,e),Ig(a,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&vg(a,e.stackParser);let d=Tg(r,n.captureContext);n.mechanism&&st(a,n.mechanism);let l=i?i.getEventProcessors():[],p=Hi().getScopeData();if(o){let S=o.getScopeData();Na(p,S)}if(d){let S=d.getScopeData();Na(p,S)}let m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),ud(a,p);let h=[...l,...p.eventProcessors];return Yi(h,a,n).then(S=>(S&&Eg(S),typeof s=="number"&&s>0?bg(S,s,c):S))}function _g(e,t){let{environment:n,release:r,dist:i,maxValueLength:o=250}=t;e.environment=e.environment||n||wn,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=it(e.message,o));let s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=it(s.value,o));let c=e.request;c&&c.url&&(c.url=it(c.url,o))}function vg(e,t){let n=cd(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}function Eg(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function Ig(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function bg(e,t,n){if(!e)return null;let r=f(f(f(f(f({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>f(f({},i),i.data&&{data:be(i.data,t,n)}))}),e.user&&{user:be(e.user,t,n)}),e.contexts&&{contexts:be(e.contexts,t,n)}),e.extra&&{extra:be(e.extra,t,n)});return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=be(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>f(f({},i),i.data&&{data:be(i.data,t,n)}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=be(e.contexts.flags,3,n)),r}function Tg(e,t){if(!t)return e;let n=e?e.clone():new Oe;return n.update(t),n}function ld(e){if(e)return wg(e)?{captureContext:e}:Rg(e)?{captureContext:e}:e}function wg(e){return e instanceof Oe||typeof e=="function"}var Cg=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Rg(e){return Object.keys(e).some(t=>Cg.includes(t))}function Dt(e,t){return ne().captureException(e,ld(t))}function Tr(e,t){return ne().captureEvent(e,t)}function xn(e,t){Ie().setContext(e,t)}function Qi(){return Ie().lastEventId()}function Zi(e){Ie().addEventProcessor(e)}function wr(e){let t=P(),n=Ie(),r=ne(),{release:i,environment:o=wn}=t&&t.getOptions()||{},{userAgent:s}=b.navigator||{},c=jl(f(f({release:i,environment:o,user:r.getUser()||n.getUser()},s&&{userAgent:s}),e)),a=n.getSession();return a&&a.status==="ok"&&_t(a,{status:"exited"}),eo(),n.setSession(c),r.setSession(c),c}function eo(){let e=Ie(),t=ne(),n=t.getSession()||e.getSession();n&&zl(n),fd(),e.setSession(),t.setSession()}function fd(){let e=Ie(),t=ne(),n=P(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function Cr(e=!1){if(e){eo();return}fd()}var xg="7";function pd(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ag(e){return`${pd(e)}${e.projectId}/envelope/`}function kg(e,t){let n={sentry_version:xg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function La(e,t,n){return t||`${Ag(e)}?${kg(e,n)}`}function Pa(e,t){let n=Er(e);if(!n)return"";let r=`${pd(n)}embed/error-page/`,i=`dsn=${Xe(n)}`;for(let o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){let s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}var hd=[];function Mg(e){let t={};return e.forEach(n=>{let{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Ua(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let s=n(t);r=Array.isArray(s)?s:[s]}else r=t;let i=Mg(r),o=i.findIndex(s=>s.name==="Debug");if(o>-1){let[s]=i.splice(o,1);i.push(s)}return i}function md(e,t){let n={};return t.forEach(r=>{r&&Ba(e,r,n)}),n}function Fa(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Ba(e,t,n){if(n[t.name]){B&&y.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,hd.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),hd.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}B&&y.log(`Integration installed: ${t.name}`)}function gd(e,t,n){let r=[{type:"client_report"},{timestamp:n||ot(),discarded_events:e}];return $e(t?{dsn:t}:{},[r])}var ge=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}};var yd="Not capturing exception because it's already been captured.",Rr=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Er(t.dsn):B&&y.warn("No DSN provided, client will not send events."),this._dsn){let i=La(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport(E(f({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:i}))}let r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);r&&de(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){let i=ae();if($i(t))return B&&y.log(yd),i;let o=f({event_id:i},n);return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){let o=f({event_id:ae()},r),s=_n(t)?t:String(t),c=Xt(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(c.then(a=>this._captureEvent(a,o,i))),o.event_id}captureEvent(t,n,r){let i=ae();if(n&&n.originalException&&$i(n.originalException))return B&&y.log(yd),i;let o=f({event_id:i},n),c=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,c||r)),o.event_id}captureSession(t){typeof t.release!="string"?B&&y.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),_t(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Ee(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];Ba(this,t,this._integrations),n||Fa(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=sd(t,this._dsn,this._options._metadata,this._options.tunnel);for(let o of n.attachments||[])r=Ma(r,Da(o));let i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){let n=od(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let i=typeof r=="number"?r:1,o=`${t}:${n}`;B&&y.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(B&&y.error("Error while sending envelope:",n),n)):(B&&y.error("Transport disabled"),Ee({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=md(this,t),Fa(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1,o=n.exception&&n.exception.values;if(o){i=!0;for(let a of o){let u=a.mechanism;if(u&&u.handled===!1){r=!0;break}}}let s=t.status==="ok";(s&&t.errors===0||s&&r)&&(_t(t,E(f({},r&&{status:"crashed"}),{errors:t.errors||Number(i||r)})),this.captureSession(t))}_isClientDoneProcessing(t){return new Ke(n=>{let r=0,i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=i,t&&r>=t&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=ne(),i=Ie()){let o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),br(o,t,n,r,this,i).then(c=>{if(c===null)return c;c.contexts=f({trace:ba(r)},c.contexts);let a=xa(this,r);return c.sdkProcessingMetadata=f({dynamicSamplingContext:a},c.sdkProcessingMetadata),c})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{B&&(i instanceof ge&&i.logLevel==="log"?y.log(i.message):y.warn(i))})}_processEvent(t,n,r){let i=this.getOptions(),{sampleRate:o}=i,s=_d(t),c=Sd(t),a=t.type||"error",u=`before send for type \`${a}\``,d=typeof o>"u"?void 0:Cn(o);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Mt(new ge(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let l=a==="replay_event"?"replay":a,m=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,m).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,t),new ge("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;let S=Dg(this,i,h,n);return Og(S,u)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",l,t),s){let R=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",R)}throw new ge(`${u} returned \`null\`, will not send event.`,"log")}let g=r&&r.getSession();if(!s&&g&&this._updateSessionFromEvent(g,h),s){let _=h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0,R=h.spans?h.spans.length:0,U=_-R;U>0&&this.recordDroppedEvent("before_send","span",U)}let S=h.transaction_info;if(s&&S&&h.transaction!==t.transaction){let _="custom";h.transaction_info=E(f({},S),{source:_})}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof ge?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ge(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){B&&y.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){B&&y.log("No outcomes to send");return}if(!this._dsn){B&&y.log("No dsn provided, will not send outcomes");return}B&&y.log("Sending outcomes:",t);let n=gd(t,this._options.tunnel&&Xe(this._dsn));this.sendEnvelope(n)}};function Og(e,t){let n=`${t} must return \`null\` or a valid event.`;if(yt(e))return e.then(r=>{if(!Ve(r)&&r!==null)throw new ge(n);return r},r=>{throw new ge(`${t} rejected with ${r}`)});if(!Ve(e)&&e!==null)throw new ge(n);return e}function Dg(e,t,n,r){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=t;if(Sd(n)&&i)return i(n,r);if(_d(n)){if(n.spans&&s){let c=[];for(let a of n.spans){let u=s(a);u?c.push(u):(ed(),e.recordDroppedEvent("before_send","span"))}n.spans=c}if(o){if(n.spans){let c=n.spans.length;n.sdkProcessingMetadata=E(f({},n.sdkProcessingMetadata),{spanCountBeforeProcessing:c})}return o(n,r)}}return n}function Sd(e){return e.type===void 0}function _d(e){return e.type==="transaction"}function $a(e,t){t.debug===!0&&(B?y.enable():de(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ne().update(t.initialScope);let r=new e(t);return Ha(r),r.init(),r}function Ha(e){ne().setClient(e)}function vd(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function i(s){if(!n())return Mt(new ge("Not adding Promise because buffer limit was reached."));let c=s();return t.indexOf(c)===-1&&t.push(c),c.then(()=>r(c)).then(null,()=>r(c).then(null,()=>{})),c}function o(s){return new Ke((c,a)=>{let u=t.length;if(!u)return c(!0);let d=setTimeout(()=>{s&&s>0&&c(!1)},s);t.forEach(l=>{Ee(l).then(()=>{--u||(clearTimeout(d),c(!0))},a)})})}return{$:t,add:i,drain:o}}function Ed(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Id(e,t){return e[t]||e.all||0}function xr(e,t,n=Date.now()){return Id(e,t)>n}function Ar(e,{statusCode:t,headers:n},r=Date.now()){let i=f({},e),o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(let c of o.trim().split(",")){let[a,u,,,d]=c.split(":",5),l=parseInt(a,10),p=(isNaN(l)?60:l)*1e3;if(!u)i.all=r+p;else for(let m of u.split(";"))m==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[m]=r+p):i[m]=r+p}else s?i.all=r+Ed(s,r):t===429&&(i.all=r+60*1e3);return i}var Ng=64;function to(e,t,n=vd(e.bufferSize||Ng)){let r={},i=s=>n.drain(s);function o(s){let c=[];if(qi(s,(l,p)=>{let m=Vi(p);if(xr(r,m)){let h=bd(l,p);e.recordDroppedEvent("ratelimit_backoff",m,h)}else c.push(l)}),c.length===0)return Ee({});let a=$e(s[0],c),u=l=>{qi(a,(p,m)=>{let h=bd(p,m);e.recordDroppedEvent(l,Vi(m),h)})},d=()=>t({body:Oa(a)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&B&&y.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ar(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof ge)return B&&y.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ee({});throw l})}return{send:o,flush:i}}function bd(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function ja(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return Pg(e,n)||Lg(e,r)}function Lg(e,t){return t?Td(e)===Td(t):!1}function Pg(e,t){return t?e.includes(t.host):!1}function Td(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function kr(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:qe})),version:qe}),e._metadata=i}var Ug=100;function He(e,t){let n=P(),r=Ie();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Ug}=n.getOptions();if(o<=0)return;let s=ot(),c=f({timestamp:s},e),a=i?de(()=>i(c,t)):c;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}var wd,Fg="FunctionToString",Cd=new WeakMap,Bg=()=>({name:Fg,setupOnce(){wd=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Zt(this),n=Cd.has(P())&&t!==void 0?t:this;return wd.apply(n,e)}}catch{}},setup(e){Cd.set(e,!0)}}),An=Bg;var $g=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Hg="InboundFilters",jg=(e={})=>({name:Hg,processEvent(t,n,r){let i=r.getOptions(),o=zg(e,i);return Wg(t,o)?null:t}}),kn=jg;function zg(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:$g],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Wg(e,t){return t.ignoreInternal&&Jg(e)?(B&&y.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ye(e)}`),!0):Gg(e,t.ignoreErrors)?(B&&y.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ye(e)}`),!0):Qg(e)?(B&&y.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ye(e)}`),!0):qg(e,t.ignoreTransactions)?(B&&y.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ye(e)}`),!0):Vg(e,t.denyUrls)?(B&&y.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ye(e)}.
Url: ${no(e)}`),!0):Yg(e,t.allowUrls)?!1:(B&&y.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ye(e)}.
Url: ${no(e)}`),!0)}function Gg(e,t){return e.type||!t||!t.length?!1:Kg(e).some(n=>kt(n,t))}function qg(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?kt(n,t):!1}function Vg(e,t){if(!t||!t.length)return!1;let n=no(e);return n?kt(n,t):!1}function Yg(e,t){if(!t||!t.length)return!0;let n=no(e);return n?kt(n,t):!0}function Kg(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Jg(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Xg(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function no(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Xg(t):null}catch{return B&&y.error(`Cannot extract url for event ${Ye(e)}`),null}}function Qg(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function Wa(e,t,n=250,r,i,o,s){if(!o.exception||!o.exception.values||!s||!rt(s.originalException,Error))return;let c=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;c&&(o.exception.values=Zg(za(e,t,i,s.originalException,r,o.exception.values,c,0),n))}function za(e,t,n,r,i,o,s,c){if(o.length>=n+1)return o;let a=[...o];if(rt(r[i],Error)){Rd(s,c);let u=e(t,r[i]),d=a.length;xd(u,i,d,c),a=za(e,t,n,r[i],i,[u,...a],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(rt(u,Error)){Rd(s,c);let l=e(t,u),p=a.length;xd(l,`errors[${d}]`,p,c),a=za(e,t,n,u,i,[l,...a],l,p)}}),a}function Rd(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=E(f(f({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function xd(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=E(f({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}function Zg(e,t){return e.map(n=>(n.value&&(n.value=it(n.value,t)),n))}function Mr(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ga(e){let t="console";ye(t,e),Se(t,ey)}function ey(){"console"in b&&fr.forEach(function(e){e in b.console&&se(b.console,e,function(t){return yn[e]=t,function(...n){ce("console",{args:n,level:e});let i=yn[e];i&&i.apply(b.console,n)}})})}function Or(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var ty="Dedupe",ny=()=>{let e;return{name:ty,processEvent(t){if(t.type)return t;try{if(ry(t,e))return B&&y.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Mn=ny;function ry(e,t){return t?!!(iy(e,t)||oy(e,t)):!1}function iy(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Md(e,t)||!kd(e,t))}function oy(e,t){let n=Ad(t),r=Ad(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Md(e,t)||!kd(e,t))}function kd(e,t){let n=Di(e),r=Di(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){let o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function Md(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ad(e){return e.exception&&e.exception.values&&e.exception.values[0]}function ro(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var qa=b;function io(){if(!("fetch"in qa))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Dr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Va(){if(typeof EdgeRuntime=="string")return!0;if(!io())return!1;if(Dr(qa.fetch))return!0;let e=!1,t=qa.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Dr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Be&&y.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Ka(e,t){let n="fetch";ye(n,e),Se(n,()=>sy(void 0,t))}function sy(e,t=!1){t&&!Va()||se(b,"fetch",function(n){return function(...r){let i=new Error,{method:o,url:s}=ay(r),c={args:r,fetchData:{method:o,url:s},startTimestamp:ve()*1e3,virtualError:i};return e||ce("fetch",f({},c)),n.apply(b,r).then(async a=>(e?e(a):ce("fetch",E(f({},c),{endTimestamp:ve()*1e3,response:a})),a),a=>{throw ce("fetch",E(f({},c),{endTimestamp:ve()*1e3,error:a})),Jt(a)&&a.stack===void 0&&(a.stack=i.stack,_e(a,"framesToPop",1)),a})}})}function Ya(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Od(e){return typeof e=="string"?e:e?Ya(e,"url")?e.url:e.toString?e.toString():"":""}function ay(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Od(n),method:Ya(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Od(t),method:Ya(t,"method")?String(t.method).toUpperCase():"GET"}}function Ja(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Xa(){return"npm"}function Dd(){return!Ja()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function oo(){return typeof window<"u"&&(!Dd()||cy())}function cy(){let e=b.process;return!!e&&e.type==="renderer"}var so=b;function Qa(){let e=so.chrome,t=e&&e.app&&e.app.runtime,n="history"in so&&!!so.history.pushState&&!!so.history.replaceState;return!t&&n}function Za(e,t){return e??t()}function On(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var N=b,ec=0;function tc(){return ec>0}function Ty(){ec++,setTimeout(()=>{ec--})}function en(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{let i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Zt(e))return e}catch{return e}let r=function(...i){try{let o=i.map(s=>en(s,t));return e.apply(this,o)}catch(o){throw Ty(),ji(s=>{s.addEventProcessor(c=>(t.mechanism&&(vn(c,void 0,void 0),st(c,t.mechanism)),c.extra=E(f({},c.extra),{arguments:i}),c)),Dt(o)}),o}};try{for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Fi(r,e),_e(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var De=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ao(e,t){let n=ic(e,t),r={type:Ay(t),value:ky(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function wy(e,t,n,r){let i=P(),o=i&&i.getOptions().normalizeDepth,s=Dy(t),c={__serialized__:Gi(t,o)};if(s)return{exception:{values:[ao(e,s)]},extra:c};let a={exception:{values:[{type:Qt(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:My(t,{isUnhandledRejection:r})}]},extra:c};if(n){let u=ic(e,n);u.length&&(a.exception.values[0].stacktrace={frames:u})}return a}function nc(e,t){return{exception:{values:[ao(e,t)]}}}function ic(e,t){let n=t.stacktrace||t.stack||"",r=Ry(t),i=xy(t);try{return e(n,r,i)}catch{}return[]}var Cy=/Minified React error #\d+;/i;function Ry(e){return e&&Cy.test(e.message)?1:0}function xy(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Nd(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Ay(e){let t=e&&e.name;return!t&&Nd(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function ky(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:Nd(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Ld(e,t,n,r){let i=n&&n.syntheticException||void 0,o=co(e,t,i,r);return st(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ee(o)}function Pd(e,t,n="info",r,i){let o=r&&r.syntheticException||void 0,s=rc(e,t,o,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Ee(s)}function co(e,t,n,r,i){let o;if(Li(t)&&t.error)return nc(e,t.error);if(Pi(t)||ua(t)){let s=t;if("stack"in t)o=nc(e,t);else{let c=s.name||(Pi(s)?"DOMError":"DOMException"),a=s.message?`${c}: ${s.message}`:c;o=rc(e,a,n,r),vn(o,a)}return"code"in s&&(o.tags=E(f({},o.tags),{"DOMException.code":`${s.code}`})),o}return Jt(t)?nc(e,t):Ve(t)||Qt(t)?(o=wy(e,t,n,i),st(o,{synthetic:!0}),o):(o=rc(e,t,n,r),vn(o,`${t}`,void 0),st(o,{synthetic:!0}),o)}function rc(e,t,n,r){let i={};if(r&&n){let o=ic(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]}),st(i,{synthetic:!0})}if(_n(t)){let{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function My(e,{isUnhandledRejection:t}){let n=ga(e),r=t?"promise rejection":"exception";return Li(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Qt(e)?`Event \`${Oy(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Oy(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Dy(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function Ud(e,{metadata:t,tunnel:n,dsn:r}){let i=f(f({event_id:e.event_id,sent_at:new Date().toISOString()},t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:Xe(r)}),o=Ny(e);return $e(i,[o])}function Ny(e){return[{type:"user_report"},e]}var uo=class extends Rr{constructor(t){let n=f({parentSpanIsAlwaysRootSpan:!0},t),r=N.SENTRY_SDK_SOURCE||Xa();kr(n,"browser",["browser"],r),super(n),n.sendClientReports&&N.document&&N.document.addEventListener("visibilitychange",()=>{N.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return Ld(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Pd(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){De&&y.warn("SDK not enabled, will not capture user feedback.");return}let n=Ud(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}};var lo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Ly=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",at=(e,t,n,r)=>{let i,o;return s=>{t.value>=0&&(s||r)&&(o=t.value-(i||0),(o||i===void 0)&&(i=t.value,t.delta=o,t.rating=Ly(t.value,n),e(t)))}};var T=b;var Fd=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var fo=(e=!0)=>{let t=T.performance&&T.performance.getEntriesByType&&T.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var Dn=()=>{let e=fo();return e&&e.activationStart||0};var ct=(e,t)=>{let n=fo(),r="navigate";return n&&(T.document&&T.document.prerendering||Dn()>0?r="prerender":T.document&&T.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Fd(),navigationType:r}};var Re=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var ut=e=>{let t=n=>{(n.type==="pagehide"||T.document&&T.document.visibilityState==="hidden")&&e(n)};T.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var Nt=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Lr=-1,Py=()=>T.document.visibilityState==="hidden"&&!T.document.prerendering?0:1/0,po=e=>{T.document.visibilityState==="hidden"&&Lr>-1&&(Lr=e.type==="visibilitychange"?e.timeStamp:0,Fy())},Uy=()=>{addEventListener("visibilitychange",po,!0),addEventListener("prerenderingchange",po,!0)},Fy=()=>{removeEventListener("visibilitychange",po,!0),removeEventListener("prerenderingchange",po,!0)},Nn=()=>(T.document&&Lr<0&&(Lr=Py(),Uy()),{get firstHiddenTime(){return Lr}});var Lt=e=>{T.document&&T.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var By=[1800,3e3],Bd=(e,t={})=>{Lt(()=>{let n=Nn(),r=ct("FCP"),i,s=Re("paint",c=>{c.forEach(a=>{a.name==="first-contentful-paint"&&(s.disconnect(),a.startTime<n.firstHiddenTime&&(r.value=Math.max(a.startTime-Dn(),0),r.entries.push(a),i(!0)))})});s&&(i=at(e,r,By,t.reportAllChanges))})};var $y=[.1,.25],$d=(e,t={})=>{Bd(Nt(()=>{let n=ct("CLS",0),r,i=0,o=[],s=a=>{a.forEach(u=>{if(!u.hadRecentInput){let d=o[0],l=o[o.length-1];i&&d&&l&&u.startTime-l.startTime<1e3&&u.startTime-d.startTime<5e3?(i+=u.value,o.push(u)):(i=u.value,o=[u])}}),i>n.value&&(n.value=i,n.entries=o,r())},c=Re("layout-shift",s);c&&(r=at(e,n,$y,t.reportAllChanges),ut(()=>{s(c.takeRecords()),r(!0)}),setTimeout(r,0))}))};var Hy=[100,300],Hd=(e,t={})=>{Lt(()=>{let n=Nn(),r=ct("FID"),i,o=a=>{a.startTime<n.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),i(!0))},s=a=>{a.forEach(o)},c=Re("first-input",s);i=at(e,r,Hy,t.reportAllChanges),c&&ut(Nt(()=>{s(c.takeRecords()),c.disconnect()}))})};var jd=0,oc=1/0,ho=0,jy=e=>{e.forEach(t=>{t.interactionId&&(oc=Math.min(oc,t.interactionId),ho=Math.max(ho,t.interactionId),jd=ho?(ho-oc)/7+1:0)})},sc,zd=()=>sc?jd:performance.interactionCount||0,Wd=()=>{"interactionCount"in performance||sc||(sc=Re("event",jy,{type:"event",buffered:!0,durationThreshold:0}))};var Et=[],ac=new Map,Gd=40,zy=0,Wy=()=>zd()-zy,qd=()=>{let e=Math.min(Et.length-1,Math.floor(Wy()/50));return Et[e]},cc=10,Gy=[],Vd=e=>{if(Gy.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=Et[Et.length-1],n=ac.get(e.interactionId);if(n||Et.length<cc||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};ac.set(r.id,r),Et.push(r)}Et.sort((r,i)=>i.latency-r.latency),Et.length>cc&&Et.splice(cc).forEach(r=>ac.delete(r.id))}};var mo=e=>{let t=T.requestIdleCallback||T.setTimeout,n=-1;return e=Nt(e),T.document&&T.document.visibilityState==="hidden"?e():(n=t(e),ut(e)),n};var qy=[200,500],Yd=(e,t={})=>{"PerformanceEventTiming"in T&&"interactionId"in PerformanceEventTiming.prototype&&Lt(()=>{Wd();let n=ct("INP"),r,i=s=>{mo(()=>{s.forEach(Vd);let c=qd();c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,r())})},o=Re("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:Gd});r=at(e,n,qy,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),ut(()=>{i(o.takeRecords()),r(!0)}))})};var Vy=[2500,4e3],Kd={},Jd=(e,t={})=>{Lt(()=>{let n=Nn(),r=ct("LCP"),i,o=c=>{t.reportAllChanges||(c=c.slice(-1)),c.forEach(a=>{a.startTime<n.firstHiddenTime&&(r.value=Math.max(a.startTime-Dn(),0),r.entries=[a],i())})},s=Re("largest-contentful-paint",o);if(s){i=at(e,r,Vy,t.reportAllChanges);let c=Nt(()=>{Kd[r.id]||(o(s.takeRecords()),s.disconnect(),Kd[r.id]=!0,i(!0))});["keydown","click"].forEach(a=>{T.document&&addEventListener(a,()=>mo(c),{once:!0,capture:!0})}),ut(c)}})};var Pr={},go={},Xd,Qd,Zd;var ef;function uc(e,t=!1){return yo("cls",e,Yy,Xd,t)}function lc(e,t=!1){return yo("lcp",e,Jy,Zd,t)}function dc(e){return yo("fid",e,Ky,Qd)}function fc(e){return yo("inp",e,Xy,ef)}function pc(e,t){return tf(e,t),go[e]||(Qy(e),go[e]=!0),nf(e,t)}function Ur(e,t){let n=Pr[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(i){lo&&y.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ce(r)}
Error:`,i)}}function Yy(){return $d(e=>{Ur("cls",{metric:e}),Xd=e},{reportAllChanges:!0})}function Ky(){return Hd(e=>{Ur("fid",{metric:e}),Qd=e})}function Jy(){return Jd(e=>{Ur("lcp",{metric:e}),Zd=e},{reportAllChanges:!0})}function Xy(){return Yd(e=>{Ur("inp",{metric:e}),ef=e})}function yo(e,t,n,r,i=!1){tf(e,t);let o;return go[e]||(o=n(),go[e]=!0),r&&t({metric:r}),nf(e,t,i?o:void 0)}function Qy(e){let t={};e==="event"&&(t.durationThreshold=0),Re(e,n=>{Ur(e,{entries:n})},t)}function tf(e,t){Pr[e]=Pr[e]||[],Pr[e].push(t)}function nf(e,t,n){return()=>{n&&n();let r=Pr[e];if(!r)return;let i=r.indexOf(t);i!==-1&&r.splice(i,1)}}var Zy=1e3,rf,hc,mc;function Fr(e){let t="dom";ye(t,e),Se(t,eS)}function eS(){if(!T.document)return;let e=ce.bind(null,"dom"),t=of(e,!0);T.document.addEventListener("click",t,!1),T.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let i=T[n],o=i&&i.prototype;!o||!o.hasOwnProperty||!o.hasOwnProperty("addEventListener")||(se(o,"addEventListener",function(s){return function(c,a,u){if(c==="click"||c=="keypress")try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=d[c]=d[c]||{refCount:0};if(!l.handler){let p=of(e);l.handler=p,s.call(this,c,p,u)}l.refCount++}catch{}return s.call(this,c,a,u)}}),se(o,"removeEventListener",function(s){return function(c,a,u){if(c==="click"||c=="keypress")try{let d=this.__sentry_instrumentation_handlers__||{},l=d[c];l&&(l.refCount--,l.refCount<=0&&(s.call(this,c,l.handler,u),l.handler=void 0,delete d[c]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,c,a,u)}}))})}function tS(e){if(e.type!==hc)return!1;try{if(!e.target||e.target._sentryId!==mc)return!1}catch{}return!0}function nS(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function of(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=rS(n);if(nS(n.type,r))return;_e(n,"_sentryCaptured",!0),r&&!r._sentryId&&_e(r,"_sentryId",ae());let i=n.type==="keypress"?"input":n.type;tS(n)||(e({event:n,name:i,global:t}),hc=n.type,mc=r?r._sentryId:void 0),clearTimeout(rf),rf=T.setTimeout(()=>{mc=void 0,hc=void 0},Zy)}}function rS(e){try{return e.target}catch{return null}}var So;function tn(e){let t="history";ye(t,e),Se(t,iS)}function iS(){if(!Qa())return;let e=T.onpopstate;T.onpopstate=function(...n){let r=T.location.href,i=So;if(So=r,ce("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let i=r.length>2?r[2]:void 0;if(i){let o=So,s=String(i);So=s,ce("history",{from:o,to:s})}return n.apply(this,r)}}se(T.history,"pushState",t),se(T.history,"replaceState",t)}var _o={};function vo(e){let t=_o[e];if(t)return t;let n=T[e];if(Dr(n))return _o[e]=n.bind(T);let r=T.document;if(r&&typeof r.createElement=="function")try{let i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);let o=i.contentWindow;o&&o[e]&&(n=o[e]),r.head.removeChild(i)}catch(i){lo&&y.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(_o[e]=n.bind(T))}function Eo(e){_o[e]=void 0}function Pt(...e){return vo("setTimeout")(...e)}var It="__sentry_xhr_v3__";function gc(e){let t="xhr";ye(t,e),Se(t,oS)}function oS(){if(!T.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let i=new Error,o=ve()*1e3,s=ue(r[0])?r[0].toUpperCase():void 0,c=sS(r[1]);if(!s||!c)return t.apply(n,r);n[It]={method:s,url:c,request_headers:{}},s==="POST"&&c.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let a=()=>{let u=n[It];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}let d={endTimestamp:ve()*1e3,startTimestamp:o,xhr:n,virtualError:i};ce("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return a(),u.apply(d,l)}}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){let[p,m]=l,h=d[It];return h&&ue(p)&&ue(m)&&(h.request_headers[p.toLowerCase()]=m),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let i=n[It];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);let o={startTimestamp:ve()*1e3,xhr:n};return ce("xhr",o),t.apply(n,r)}})}function sS(e){if(ue(e))return e;try{return e.toString()}catch{}}function sf(e,t=vo("fetch")){let n=0,r=0;function i(o){let s=o.body.length;n+=s,r++;let c=f({body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return Eo("fetch"),Mt("No fetch implementation available");try{return t(e.url,c).then(a=>(n-=s,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return Eo("fetch"),n-=s,r--,Mt(a)}}return to(e,i)}var aS=30;var cS=50;function yc(e,t,n,r){let i={filename:e,function:t==="<anonymous>"?nt:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}var uS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,lS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,dS=/\((\S*)(?::(\d+))(?::(\d+))\)/,fS=e=>{let t=uS.exec(e);if(t){let[,r,i,o]=t;return yc(r,nt,+i,+o)}let n=lS.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let s=dS.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}let[i,o]=cf(n[1]||nt,n[2]);return yc(o,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},pS=[aS,fS],hS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,mS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gS=e=>{let t=hS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let o=mS.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],i=t[1]||nt;return[i,r]=cf(i,r),yc(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},yS=[cS,gS];var SS=[pS,yS],af=Oi(...SS),cf=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:nt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var Io=1024,_S="Breadcrumbs",vS=(e={})=>{let t=f({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:_S,setup(n){t.console&&Ga(bS(n)),t.dom&&Fr(IS(n,t.dom)),t.xhr&&gc(TS(n)),t.fetch&&Ka(wS(n)),t.history&&tn(CS(n)),t.sentry&&n.on("beforeSendEvent",ES(n))}}},Br=vS;function ES(e){return function(n){P()===e&&He({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ye(n)},{event:n})}}function IS(e,t){return function(r){if(P()!==e)return;let i,o,s=typeof t=="object"?t.serializeAttribute:void 0,c=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;c&&c>Io&&(De&&y.warn(`\`dom.maxStringLength\` cannot exceed ${Io}, but a value of ${c} was configured. Sentry will use ${Io} instead.`),c=Io),typeof s=="string"&&(s=[s]);try{let u=r.event,d=RS(u)?u.target:u;i=At(d,{keyAttrs:s,maxStringLength:c}),o=ha(d)}catch{i="<unknown>"}if(i.length===0)return;let a={category:`ui.${r.name}`,message:i};o&&(a.data={"ui.component_name":o}),He(a,{event:r.event,name:r.name,global:r.global})}}function bS(e){return function(n){if(P()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:Or(n.level),message:Ui(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ui(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;He(r,{input:n.args,level:n.level})}}function TS(e){return function(n){if(P()!==e)return;let{startTimestamp:r,endTimestamp:i}=n,o=n.xhr[It];if(!r||!i||!o)return;let{method:s,url:c,status_code:a,body:u}=o,d={method:s,url:c,status_code:a},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},p=ro(a);He({category:"xhr",data:d,type:"http",level:p},l)}}function wS(e){return function(n){if(P()!==e)return;let{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let o=n.fetchData,s={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};He({category:"fetch",data:o,level:"error",type:"http"},s)}else{let o=n.response,s=E(f({},n.fetchData),{status_code:o&&o.status}),c={input:n.args,response:o,startTimestamp:r,endTimestamp:i},a=ro(s.status_code);He({category:"fetch",data:s,type:"http",level:a},c)}}}function CS(e){return function(n){if(P()!==e)return;let r=n.from,i=n.to,o=Mr(N.location.href),s=r?Mr(r):void 0,c=Mr(i);(!s||!s.path)&&(s=o),o.protocol===c.protocol&&o.host===c.host&&(i=c.relative),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),He({category:"navigation",data:{from:r,to:i}})}}function RS(e){return!!e&&!!e.target}var xS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],AS="BrowserApiErrors",kS=(e={})=>{let t=f({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e);return{name:AS,setupOnce(){t.setTimeout&&se(N,"setTimeout",uf),t.setInterval&&se(N,"setInterval",uf),t.requestAnimationFrame&&se(N,"requestAnimationFrame",MS),t.XMLHttpRequest&&"XMLHttpRequest"in N&&se(XMLHttpRequest.prototype,"send",OS);let n=t.eventTarget;n&&(Array.isArray(n)?n:xS).forEach(DS)}}},lf=kS;function uf(e){return function(...t){let n=t[0];return t[0]=en(n,{mechanism:{data:{function:Ce(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function MS(e){return function(t){return e.apply(this,[en(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ce(e)},handled:!1,type:"instrument"}})])}}function OS(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&se(n,i,function(o){let s={mechanism:{data:{function:i,handler:Ce(o)},handled:!1,type:"instrument"}},c=Zt(o);return c&&(s.mechanism.data.handler=Ce(c)),en(o,s)})}),e.apply(this,t)}}function DS(e){let n=N[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(se(r,"addEventListener",function(i){return function(o,s,c){try{NS(s)&&(s.handleEvent=en(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ce(s),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[o,en(s,{mechanism:{data:{function:"addEventListener",handler:Ce(s),target:e},handled:!1,type:"instrument"}}),c])}}),se(r,"removeEventListener",function(i){return function(o,s,c){try{let a=s.__sentry_wrapped__;a&&i.call(this,o,a,c)}catch{}return i.call(this,o,s,c)}}))}function NS(e){return typeof e.handleEvent=="function"}var $r=()=>({name:"BrowserSession",setupOnce(){if(typeof N.document>"u"){De&&y.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}wr({ignoreDuration:!0}),Cr(),tn(({from:e,to:t})=>{e!==void 0&&e!==t&&(wr({ignoreDuration:!0}),Cr())})}});var LS="GlobalHandlers",PS=(e={})=>{let t=f({onerror:!0,onunhandledrejection:!0},e);return{name:LS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(US(n),df("onerror")),t.onunhandledrejection&&(FS(n),df("onunhandledrejection"))}}},Hr=PS;function US(e){sa(t=>{let{stackParser:n,attachStacktrace:r}=ff();if(P()!==e||tc())return;let{msg:i,url:o,line:s,column:c,error:a}=t,u=HS(co(n,a||i,void 0,r,!1),o,s,c);u.level="error",Tr(u,{originalException:a,mechanism:{handled:!1,type:"onerror"}})})}function FS(e){ca(t=>{let{stackParser:n,attachStacktrace:r}=ff();if(P()!==e||tc())return;let i=BS(t),o=Xt(i)?$S(i):co(n,i,void 0,r,!0);o.level="error",Tr(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function BS(e){if(Xt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function $S(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function HS(e,t,n,r){let i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},c=s.stacktrace=s.stacktrace||{},a=c.frames=c.frames||[],u=r,d=n,l=ue(t)&&t.length>0?t:mr();return a.length===0&&a.push({colno:u,filename:l,function:nt,in_app:!0,lineno:d}),e}function df(e){De&&y.log(`Global Handler attached: ${e}`)}function ff(){let e=P();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var jr=()=>({name:"HttpContext",preprocessEvent(e){if(!N.navigator&&!N.location&&!N.document)return;let t=e.request&&e.request.url||N.location&&N.location.href,{referrer:n}=N.document||{},{userAgent:r}=N.navigator||{},i=f(f(f({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),o=E(f(f({},e.request),t&&{url:t}),{headers:i});e.request=o}});var jS="cause",zS=5,WS="LinkedErrors",GS=(e={})=>{let t=e.limit||zS,n=e.key||jS;return{name:WS,preprocessEvent(r,i,o){let s=o.getOptions();Wa(ao,s.stackParser,s.maxValueLength,n,t,r,i)}}},zr=GS;function pf(e){let t=[kn(),An(),lf(),Br(),Hr(),zr(),Mn(),jr()];return e.autoSessionTracking!==!1&&t.push($r()),t}function qS(e={}){let t={defaultIntegrations:pf(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:N.SENTRY_RELEASE&&N.SENTRY_RELEASE.id?N.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,f(f({},t),e)}function VS(){let e=typeof N.window<"u"&&N;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=N.location&&N.location.href||"",o=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],s=!!r&&N===N.top&&o.some(a=>i.startsWith(`${a}//`)),c=typeof e.nw<"u";return!!r&&!s&&!c}function Sc(e={}){let t=qS(e);if(!t.skipBrowserExtensionCheck&&VS()){de(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}De&&(io()||y.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let n=E(f({},t),{stackParser:ia(t.stackParser||af),integrations:Ua(t),transport:t.transport||sf});return $a(uo,n)}function bo(e={}){if(!N.document){De&&y.error("Global document not defined in showReportDialog call");return}let t=ne(),n=t.getClient(),r=n&&n.getDsn();if(!r){De&&y.error("DSN not configured for showReportDialog call");return}if(t&&(e.user=f(f({},t.getUser()),e.user)),!e.eventId){let c=Qi();c&&(e.eventId=c)}let i=N.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=Pa(r,e),e.onLoad&&(i.onload=e.onLoad);let{onClose:o}=e;if(o){let c=a=>{if(a.data==="__sentry_reportdialog_closed__")try{o()}finally{N.removeEventListener("message",c)}};N.addEventListener("message",c)}let s=N.document.head||N.document.body;s?s.appendChild(i):De&&y.error("Not injecting report dialog. No injection point found in HTML")}var K=b,qc="sentryReplaySession",YS="replay_event",Vc="Unable to send Replay",KS=3e5,JS=9e5,XS=5e3,QS=5500,ZS=6e4,e_=5e3,t_=3,hf=15e4,To=5e3,n_=3e3,r_=300,Yc=2e7,i_=4999,o_=15e3,mf=36e5;function bc(e,t){return e??t()}function Yr(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var fe=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(fe||{});function s_(e){return e.nodeType===e.ELEMENT_NODE}function Gr(e){let t=Yr([e,"optionalAccess",n=>n.host]);return Yr([t,"optionalAccess",n=>n.shadowRoot])===e}function qr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function a_(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function c_(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Ao(e){try{let t=e.rules||e.cssRules;return t?a_(Array.from(t,Pf).join("")):null}catch{return null}}function u_(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,i=r[n],o=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Pf(e){let t;if(d_(e))try{t=Ao(e.styleSheet)||c_(e)}catch{}else if(f_(e)){let n=e.cssText,r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=u_(e)),r&&(n=l_(n)),r||i)return n}return t||e.cssText}function l_(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function d_(e){return"styleSheet"in e}function f_(e){return"selectorText"in e}var ko=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=Yr([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return bc(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function p_(){return new ko}function jo({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Kr({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Hn(e){return e.toLowerCase()}function Tc(e){return e.toUpperCase()}var gf="__rrweb_original__";function h_(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){let o=t.getImageData,s=gf in o?o[gf]:o;if(new Uint32Array(s.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(a=>a!==0))return!1}return!0}function Kc(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Hn(t):null}function Mo(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Uf(e,t){let n;try{n=new URL(e,bc(t,()=>window.location.href))}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return bc(Yr([i,"optionalAccess",o=>o[1]]),()=>null)}var yf={};function Ff(e){let t=yf[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return yf[e]=r.bind(window)}function wc(...e){return Ff("setTimeout")(...e)}function Bf(...e){return Ff("clearTimeout")(...e)}function $f(e){try{return e.contentDocument}catch{}}var m_=1,g_=new RegExp("[^a-z0-9-_:]"),Jr=-2;function Jc(){return m_++}function y_(e){if(e instanceof HTMLFormElement)return"form";let t=Hn(e.tagName);return g_.test(t)?"div":t}function S_(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Ln,Sf,__=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,v_=/^(?:[a-z+]+:)?\/\//i,E_=/^www\..*/i,I_=/^(data:)([^,]*),(.*)/i;function Oo(e,t){return(e||"").replace(__,(n,r,i,o,s,c)=>{let a=i||s||c,u=r||o||"";if(!a)return n;if(v_.test(a)||E_.test(a))return`url(${u}${a}${u})`;if(I_.test(a))return`url(${u}${a}${u})`;if(a[0]==="/")return`url(${u}${S_(t)+a}${u})`;let d=t.split("/"),l=a.split("/");d.pop();for(let p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}var b_=/^[^ \t\n\r\u000c]+/,T_=/^[, \t\n\r\u000c]+/;function w_(e,t){if(t.trim()==="")return t;let n=0;function r(o){let s,c=o.exec(t.substring(n));return c?(s=c[0],n+=s.length,s):""}let i=[];for(;r(T_),!(n>=t.length);){let o=r(b_);if(o.slice(-1)===",")o=Un(e,o.substring(0,o.length-1)),i.push(o);else{let s="";o=Un(e,o);let c=!1;for(;;){let a=t.charAt(n);if(a===""){i.push((o+s).trim());break}else if(c)a===")"&&(c=!1);else if(a===","){n+=1,i.push((o+s).trim());break}else a==="("&&(c=!0);s+=a,n+=1}}}return i.join(", ")}var _f=new WeakMap;function Un(e,t){return!t||t.trim()===""?t:zo(e,t)}function C_(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function zo(e,t){let n=_f.get(e);if(n||(n=e.createElement("a"),_f.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Hf(e,t,n,r,i,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Un(e,r):n==="srcset"?w_(e,r):n==="style"?Oo(r,zo(e)):t==="object"&&n==="data"?Un(e,r):typeof o=="function"?o(n,r,i):r)}function jf(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function R_(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){let o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function x_(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function rn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:rn(e.parentNode,t,n,r+1)}function Fn(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(x_(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function jn(e,t,n,r,i,o){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let u=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let c=-1,a=-1;if(o){if(a=rn(s,Fn(r,i)),a<0)return!0;c=rn(s,Fn(t,n),a>=0?a:1/0)}else{if(c=rn(s,Fn(t,n)),c<0)return!1;a=rn(s,Fn(r,i),c>=0?c:1/0)}return c>=0?a>=0?c<=a:!0:a>=0?!1:!!o}catch{}return!!o}function A_(e,t,n){let r=e.contentWindow;if(!r)return;let i=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){let c=wc(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{Bf(c),i=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return wc(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function k_(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;let o=wc(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Bf(o),r=!0,t()})}function M_(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskAttributeFn:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:h={},maskTextFn:g,maskInputFn:S,dataURLOptions:_={},inlineImages:R,recordCanvas:U,keepIframeSrcFn:z,newlyAddedElement:J=!1}=t,k=O_(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:fe.Document,childNodes:[],compatMode:e.compatMode}:{type:fe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:fe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return N_(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:s,inlineStylesheet:m,maskAttributeFn:a,maskInputOptions:h,maskInputFn:S,dataURLOptions:_,inlineImages:R,recordCanvas:U,keepIframeSrcFn:z,newlyAddedElement:J,rootId:k,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p});case e.TEXT_NODE:return D_(e,{doc:n,maskAllText:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:h,maskInputFn:S,rootId:k});case e.CDATA_SECTION_NODE:return{type:fe.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:fe.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function O_(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function D_(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:s,maskTextFn:c,maskInputOptions:a,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName,p=e.textContent,m=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(m&&p){try{e.nextSibling||e.previousSibling||Yr([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(p=Ao(e.parentNode.sheet))}catch(_){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${_}`,e)}p=Oo(p,zo(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");let S=jn(e,r,o,i,s,n);if(!m&&!h&&!g&&p&&S&&(p=c?c(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(a.textarea||S)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){let _=jo({type:null,tagName:l,maskInputOptions:a});p=Kr({isMasked:jn(e,r,o,i,s,_),element:e,value:p,maskInputFn:u})}return{type:fe.Text,textContent:p||"",isStyle:m,rootId:d}}function N_(e,t){let{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:s,maskInputOptions:c={},maskAttributeFn:a,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:m,newlyAddedElement:h=!1,rootId:g,maskAllText:S,maskTextClass:_,unmaskTextClass:R,maskTextSelector:U,unmaskTextSelector:z}=t,J=R_(e,r,i,o),k=y_(e),I={},F=e.attributes.length;for(let v=0;v<F;v++){let M=e.attributes[v];M.name&&!jf(k,M.name,M.value)&&(I[M.name]=Hf(n,k,Hn(M.name),M.value,e,a))}if(k==="link"&&s){let v=Array.from(n.styleSheets).find(X=>X.href===e.href),M=null;v&&(M=Ao(v)),M&&(I.rel=null,I.href=null,I.crossorigin=null,I._cssText=Oo(M,v.href))}if(k==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let v=Ao(e.sheet);v&&(I._cssText=Oo(v,zo(n)))}if(k==="input"||k==="textarea"||k==="select"||k==="option"){let v=e,M=Kc(v),X=Mo(v,Tc(k),M),Q=v.checked;if(M!=="submit"&&M!=="button"&&X){let oe=jn(v,_,U,R,z,jo({type:M,tagName:Tc(k),maskInputOptions:c}));I.value=Kr({isMasked:oe,element:v,value:X,maskInputFn:u})}Q&&(I.checked=Q)}if(k==="option"&&(e.selected&&!c.select?I.selected=!0:delete I.selected),k==="canvas"&&p){if(e.__context==="2d")h_(e)||(I.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let v=e.toDataURL(d.type,d.quality),M=n.createElement("canvas");M.width=e.width,M.height=e.height;let X=M.toDataURL(d.type,d.quality);v!==X&&(I.rr_dataURL=v)}}if(k==="img"&&l){Ln||(Ln=n.createElement("canvas"),Sf=Ln.getContext("2d"));let v=e,M=v.currentSrc||v.getAttribute("src")||"<unknown-src>",X=v.crossOrigin,Q=()=>{v.removeEventListener("load",Q);try{Ln.width=v.naturalWidth,Ln.height=v.naturalHeight,Sf.drawImage(v,0,0),I.rr_dataURL=Ln.toDataURL(d.type,d.quality)}catch(oe){if(v.crossOrigin!=="anonymous"){v.crossOrigin="anonymous",v.complete&&v.naturalWidth!==0?Q():v.addEventListener("load",Q);return}else console.warn(`Cannot inline img src=${M}! Error: ${oe}`)}v.crossOrigin==="anonymous"&&(X?I.crossOrigin=X:v.removeAttribute("crossorigin"))};v.complete&&v.naturalWidth!==0?Q():v.addEventListener("load",Q)}if((k==="audio"||k==="video")&&(I.rr_mediaState=e.paused?"paused":"played",I.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(I.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(I.rr_scrollTop=e.scrollTop)),J){let{width:v,height:M}=e.getBoundingClientRect();I={class:I.class,rr_width:`${v}px`,rr_height:`${M}px`}}k==="iframe"&&!m(I.src)&&(!J&&!$f(e)&&(I.rr_src=I.src),delete I.src);let ie;try{customElements.get(k)&&(ie=!0)}catch{}return{type:fe.Element,tagName:k,attributes:I,childNodes:[],isSVG:C_(e)||void 0,needBlock:J,rootId:g,isCustom:ie}}function Y(e){return e==null?"":e.toLowerCase()}function L_(e,t){if(t.comment&&e.type===fe.Comment)return!0;if(e.type===fe.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Uf(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Y(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Y(e.attributes.name)==="application-name"||Y(e.attributes.rel)==="icon"||Y(e.attributes.rel)==="apple-touch-icon"||Y(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Y(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Y(e.attributes.property).match(/^(og|twitter|fb):/)||Y(e.attributes.name).match(/^(og|twitter):/)||Y(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Y(e.attributes.name)==="robots"||Y(e.attributes.name)==="googlebot"||Y(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Y(e.attributes.name)==="author"||Y(e.attributes.name)==="generator"||Y(e.attributes.name)==="framework"||Y(e.attributes.name)==="publisher"||Y(e.attributes.name)==="progid"||Y(e.attributes.property).match(/^article:/)||Y(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Y(e.attributes.name)==="google-site-verification"||Y(e.attributes.name)==="yandex-verification"||Y(e.attributes.name)==="csrf-token"||Y(e.attributes.name)==="p:domain_verify"||Y(e.attributes.name)==="verify-v1"||Y(e.attributes.name)==="verification"||Y(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Bn(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:m=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:R,dataURLOptions:U={},inlineImages:z=!1,recordCanvas:J=!1,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:F=5e3,onStylesheetLoad:ie,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:M=()=>!1,newlyAddedElement:X=!1}=t,{preserveWhiteSpace:Q=!0}=t,oe=M_(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:c,unblockSelector:s,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,dataURLOptions:U,inlineImages:z,recordCanvas:J,keepIframeSrcFn:M,newlyAddedElement:X});if(!oe)return console.warn(e,"not serialized"),null;let Le;r.hasNode(e)?Le=r.getId(e):L_(oe,R)||!Q&&oe.type===fe.Text&&!oe.isStyle&&!oe.textContent.replace(/^\s+|\s+$/gm,"").length?Le=Jr:Le=Jc();let j=Object.assign(oe,{id:Le});if(r.add(e,j),Le===Jr)return null;k&&k(e);let xe=!p;if(j.type===fe.Element){xe=xe&&!j.needBlock,delete j.needBlock;let Z=e.shadowRoot;Z&&qr(Z)&&(j.isShadowHost=!0)}if((j.type===fe.Document||j.type===fe.Element)&&xe){R.headWhitespace&&j.type===fe.Element&&j.tagName==="head"&&(Q=!1);let Z={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:c,unblockSelector:s,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:R,dataURLOptions:U,inlineImages:z,recordCanvas:J,preserveWhiteSpace:Q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:F,onStylesheetLoad:ie,stylesheetLoadTimeout:v,keepIframeSrcFn:M};for(let je of Array.from(e.childNodes)){let dt=Bn(je,Z);dt&&j.childNodes.push(dt)}if(s_(e)&&e.shadowRoot)for(let je of Array.from(e.shadowRoot.childNodes)){let dt=Bn(je,Z);dt&&(qr(e.shadowRoot)&&(dt.isShadow=!0),j.childNodes.push(dt))}}return e.parentNode&&Gr(e.parentNode)&&qr(e.parentNode)&&(j.isShadow=!0),j.type===fe.Element&&j.tagName==="iframe"&&A_(e,()=>{let Z=$f(e);if(Z&&I){let je=Bn(Z,{doc:Z,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:R,dataURLOptions:U,inlineImages:z,recordCanvas:J,preserveWhiteSpace:Q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:F,onStylesheetLoad:ie,stylesheetLoadTimeout:v,keepIframeSrcFn:M});je&&I(e,je)}},F),j.type===fe.Element&&j.tagName==="link"&&typeof j.attributes.rel=="string"&&(j.attributes.rel==="stylesheet"||j.attributes.rel==="preload"&&typeof j.attributes.href=="string"&&Uf(j.attributes.href)==="css")&&k_(e,()=>{if(ie){let Z=Bn(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:c,maskTextClass:a,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:m,maskInputOptions:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:R,dataURLOptions:U,inlineImages:z,recordCanvas:J,preserveWhiteSpace:Q,onSerialize:k,onIframeLoad:I,iframeLoadTimeout:F,onStylesheetLoad:ie,stylesheetLoadTimeout:v,keepIframeSrcFn:M});Z&&ie(e,Z)}},v),j}function P_(e,t){let{mirror:n=new ko,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:s=!1,maskTextClass:c="rr-mask",unmaskTextClass:a=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:m=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOM:R=!1,dataURLOptions:U,preserveWhiteSpace:z,onSerialize:J,onIframeLoad:k,iframeLoadTimeout:I,onStylesheetLoad:F,stylesheetLoadTimeout:ie,keepIframeSrcFn:v=()=>!1}=t||{};return Bn(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:s,maskTextClass:c,unmaskTextClass:a,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:S,maskInputFn:_,slimDOMOptions:R===!0||R==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:R==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:R===!1?{}:R,dataURLOptions:U,inlineImages:p,recordCanvas:m,preserveWhiteSpace:z,onSerialize:J,onIframeLoad:k,iframeLoadTimeout:I,onStylesheetLoad:F,stylesheetLoadTimeout:ie,keepIframeSrcFn:v,newlyAddedElement:!1})}function Ut(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}function we(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Pn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,vf={map:{},getId(){return console.error(Pn),-1},getNode(){return console.error(Pn),null},removeNodeFromMap(){console.error(Pn)},has(){return console.error(Pn),!1},reset(){console.error(Pn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(vf=new Proxy(vf,{get(e,t,n){return t==="map"&&console.error(Pn),Reflect.get(e,t,n)}}));function Xr(e,t,n={}){let r=null,i=0;return function(...o){let s=Date.now();!i&&n.leading===!1&&(i=s);let c=t-(s-i),a=this;c<=0||c>t?(r&&(j_(r),r=null),i=s,e.apply(a,o)):!r&&n.trailing!==!1&&(r=Wo(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(a,o)},c))}}function zf(e,t,n,r,i=window){let o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(s){Wo(()=>{n.set.call(this,s)},0),o&&o.set&&o.set.call(this,s)}}),()=>zf(e,t,o||{},!0)}function Xc(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}var Do=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Do=()=>new Date().getTime());function Wf(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Ut([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Ut([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Ut([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Ut([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Ut([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Ut([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Gf(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function qf(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Vf(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Ne(e,t,n,r,i){if(!e)return!1;let o=Vf(e);if(!o)return!1;let s=Fn(t,n);if(!i){let u=r&&o.matches(r);return s(o)&&!u}let c=rn(o,s),a=-1;return c<0?!1:(r&&(a=rn(o,Fn(null,r))),c>-1&&a<0?!0:c<a)}function U_(e,t){return t.getId(e)!==-1}function _c(e,t){return t.getId(e)===Jr}function Yf(e,t){if(Gr(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Yf(e.parentNode,t):!0:!0}function Cc(e){return!!e.changedTouches}function F_(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Kf(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Jf(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Rc(e){return!!Ut([e,"optionalAccess",t=>t.shadowRoot])}var xc=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Za(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Xf(e){let t=null;return Ut([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function B_(e){let t=e,n;for(;n=Xf(t);)t=n;return t}function $_(e){let t=e.ownerDocument;if(!t)return!1;let n=B_(e);return t.contains(n)}function Qf(e){let t=e.ownerDocument;return t?t.contains(e)||$_(e):!1}var Ef={};function Qc(e){let t=Ef[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let o=i.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(i)}catch{}return Ef[e]=r.bind(window)}function H_(...e){return Qc("requestAnimationFrame")(...e)}function Wo(...e){return Qc("setTimeout")(...e)}function j_(...e){return Qc("clearTimeout")(...e)}var L=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(L||{}),x=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(x||{}),Te=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Te||{}),bt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(bt||{});function Zc(e){try{return e.contentDocument}catch{}}function z_(e){try{return e.contentWindow}catch{}}function W_(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}function If(e){return"__ln"in e}var Ac=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=W_([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&If(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&If(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},bf=(e,t)=>`${e}@${t}`,kc=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new Ac,i=a=>{let u=a,d=Jr;for(;d===Jr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=a=>{if(!a.parentNode||!Qf(a))return;let u=Gr(a.parentNode)?this.mirror.getId(Xf(a)):this.mirror.getId(a.parentNode),d=i(a);if(u===-1||d===-1)return r.addNode(a);let l=Bn(a,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{Kf(p,this.mirror)&&!Ne(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),Jf(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Rc(a)&&this.shadowDomManager.addShadowRoot(a.shadowRoot,this.doc)},onIframeLoad:(p,m)=>{Ne(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,m),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,m)=>{this.stylesheetManager.attachLinkElement(p,m)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let a of this.movedSet)Tf(this.removes,a,this.mirror)&&!this.movedSet.has(a.parentNode)||o(a);for(let a of this.addedSet)!wf(this.droppedSet,a)&&!Tf(this.removes,a,this.mirror)||wf(this.movedSet,a)?o(a):this.droppedSet.add(a);let s=null;for(;r.length;){let a=null;if(s){let u=this.mirror.getId(s.value.parentNode),d=i(s.value);u!==-1&&d!==-1&&(a=s)}if(!a){let u=r.tail;for(;u;){let d=u;if(u=u.previous,d){let l=this.mirror.getId(d.value.parentNode);if(i(d.value)===-1)continue;if(l!==-1){a=d;break}else{let m=d.value;if(m.parentNode&&m.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let h=m.parentNode.host;if(this.mirror.getId(h)!==-1){a=d;break}}}}}}if(!a){for(;r.head;)r.removeNode(r.head.value);break}s=a.previous,r.removeNode(a.value),o(a.value)}let c={texts:this.texts.map(a=>({id:this.mirror.getId(a.node),value:a.value})).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),attributes:this.attributes.map(a=>{let{attributes:u}=a;if(typeof u.style=="string"){let d=JSON.stringify(a.styleDiff),l=JSON.stringify(a._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=a.styleDiff)}return{id:this.mirror.getId(a.node),attributes:u}}).filter(a=>!n.has(a.id)).filter(a=>this.mirror.has(a.id)),removes:this.removes,adds:t};!c.texts.length&&!c.attributes.length&&!c.removes.length&&!c.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(c))},this.processMutation=t=>{if(!_c(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!Ne(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Vf(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){let s=Kc(n),c=n.tagName;i=Mo(n,c,s);let a=jo({maskInputOptions:this.maskInputOptions,tagName:c,type:s}),u=jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,a);i=Kr({isMasked:u,element:n,value:i,maskInputFn:this.maskInputFn})}if(Ne(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!Zc(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!jf(n.tagName,r)&&(o.attributes[r]=Hf(this.doc,Hn(n.tagName),Hn(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let s=this.unattachedDoc.createElement("span");t.oldValue&&s.setAttribute("style",t.oldValue);for(let c of Array.from(n.style)){let a=n.style.getPropertyValue(c),u=n.style.getPropertyPriority(c);a!==s.style.getPropertyValue(c)||u!==s.style.getPropertyPriority(c)?u===""?o.styleDiff[c]=a:o.styleDiff[c]=[a,u]:o._unchangedStyles[c]=[a,u]}for(let c of Array.from(s.style))n.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(Ne(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),i=Gr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Ne(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_c(n,this.mirror)||!U_(n,this.mirror)||(this.addedSet.has(n)?(Mc(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Yf(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[bf(r,i)]?Mc(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Gr(t.target)&&qr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(_c(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[bf(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Ne(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Rc(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Mc(e,t){e.delete(t),t.childNodes.forEach(n=>Mc(e,n))}function Tf(e,t,n){return e.length===0?!1:G_(e,t,n)}function G_(e,t,n){let r=t.parentNode;for(;r;){let i=n.getId(r);if(e.some(o=>o.id===i))return!0;r=r.parentNode}return!1}function wf(e,t){return e.size===0?!1:Zf(e,t)}function Zf(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Zf(e,n):!1}var Vr;function q_(e){Vr=e}function V_(){Vr=void 0}var H=e=>Vr?(...n)=>{try{return e(...n)}catch(r){if(Vr&&Vr(r)===!0)return()=>{};throw r}}:e;function Ze(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var $n=[];function ni(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function ep(e,t){let n=new kc;$n.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,i=Ze([window,"optionalAccess",s=>s.Zone,"optionalAccess",s=>s.__symbol__,"optionalCall",s=>s("MutationObserver")]);i&&window[i]&&(r=window[i]);let o=new r(H(s=>{e.onMutation&&e.onMutation(s)===!1||n.processMutations.bind(n)(s)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Y_({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let i=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],c,a=Xr(H(l=>{let p=Date.now()-c;e(s.map(m=>(m.timeOffset-=p,m)),l),s=[],c=null}),o),u=H(Xr(H(l=>{let p=ni(l),{clientX:m,clientY:h}=Cc(l)?l.changedTouches[0]:l;c||(c=Do()),s.push({x:m,y:h,id:r.getId(p),timeOffset:Do()-c}),a(typeof DragEvent<"u"&&l instanceof DragEvent?x.Drag:l instanceof MouseEvent?x.MouseMove:x.TouchMove)}),i,{trailing:!1})),d=[we("mousemove",u,n),we("touchmove",u,n),we("drag",u,n)];return H(()=>{d.forEach(l=>l())})}function K_({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let c=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,a=[],u=null,d=l=>p=>{let m=ni(p);if(Ne(m,r,i,o,!0))return;let h=null,g=l;if("pointerType"in p){switch(p.pointerType){case"mouse":h=bt.Mouse;break;case"touch":h=bt.Touch;break;case"pen":h=bt.Pen;break}h===bt.Touch?Te[l]===Te.MouseDown?g="TouchStart":Te[l]===Te.MouseUp&&(g="TouchEnd"):bt.Pen}else Cc(p)&&(h=bt.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===bt.Touch||g.startsWith("Mouse")&&h===bt.Mouse)&&(h=null)):Te[l]===Te.Click&&(h=u,u=null);let S=Cc(p)?p.changedTouches[0]:p;if(!S)return;let _=n.getId(m),{clientX:R,clientY:U}=S;H(e)(f({type:Te[g],id:_,x:R,y:U},h!==null&&{pointerType:h}))};return Object.keys(Te).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&c[l]!==!1).forEach(l=>{let p=Hn(l),m=d(l);if(window.PointerEvent)switch(Te[l]){case Te.MouseDown:case Te.MouseUp:p=p.replace("mouse","pointer");break;case Te.TouchStart:case Te.TouchEnd:return}a.push(we(p,m,t))}),H(()=>{a.forEach(l=>l())})}function tp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:s}){let c=H(Xr(H(a=>{let u=ni(a);if(!u||Ne(u,r,i,o,!0))return;let d=n.getId(u);if(u===t&&t.defaultView){let l=Wf(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),s.scroll||100));return we("scroll",c,t)}function J_({viewportResizeCb:e},{win:t}){let n=-1,r=-1,i=H(Xr(H(()=>{let o=Gf(),s=qf();(n!==o||r!==s)&&(e({width:Number(s),height:Number(o)}),n=o,r=s)}),200));return we("resize",i,t)}var X_=["INPUT","TEXTAREA","SELECT"],Cf=new WeakMap;function Q_({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:s,ignoreSelector:c,maskInputOptions:a,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:m,maskTextSelector:h,unmaskTextSelector:g}){function S(I){let F=ni(I),ie=I.isTrusted,v=F&&Tc(F.tagName);if(v==="OPTION"&&(F=F.parentElement),!F||!v||X_.indexOf(v)<0||Ne(F,r,i,o,!0))return;let M=F;if(M.classList.contains(s)||c&&M.matches(c))return;let X=Kc(F),Q=Mo(M,v,X),oe=!1,Le=jo({maskInputOptions:a,tagName:v,type:X}),j=jn(F,p,h,m,g,Le);(X==="radio"||X==="checkbox")&&(oe=F.checked),Q=Kr({isMasked:j,element:F,value:Q,maskInputFn:u}),_(F,l?{text:Q,isChecked:oe,userTriggered:ie}:{text:Q,isChecked:oe});let xe=F.name;X==="radio"&&xe&&oe&&t.querySelectorAll(`input[type="radio"][name="${xe}"]`).forEach(Z=>{if(Z!==F){let je=Kr({isMasked:j,element:Z,value:Mo(Z,v,X),maskInputFn:u});_(Z,l?{text:je,isChecked:!oe,userTriggered:!1}:{text:je,isChecked:!oe})}})}function _(I,F){let ie=Cf.get(I);if(!ie||ie.text!==F.text||ie.isChecked!==F.isChecked){Cf.set(I,F);let v=n.getId(I);H(e)(E(f({},F),{id:v}))}}let U=(d.input==="last"?["change"]:["input","change"]).map(I=>we(I,H(S),t)),z=t.defaultView;if(!z)return()=>{U.forEach(I=>I())};let J=z.Object.getOwnPropertyDescriptor(z.HTMLInputElement.prototype,"value"),k=[[z.HTMLInputElement.prototype,"value"],[z.HTMLInputElement.prototype,"checked"],[z.HTMLSelectElement.prototype,"value"],[z.HTMLTextAreaElement.prototype,"value"],[z.HTMLSelectElement.prototype,"selectedIndex"],[z.HTMLOptionElement.prototype,"selected"]];return J&&J.set&&U.push(...k.map(I=>zf(I[0],I[1],{set(){H(S)({target:this,isTrusted:!1})}},!1,z))),H(()=>{U.forEach(I=>I())})}function No(e){let t=[];function n(r,i){if(wo("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||wo("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||wo("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||wo("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let s=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(s)}else if(r.parentStyleSheet){let s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(s)}return i}return n(e,t)}function Ft(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Z_({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:H((d,l,p)=>{let[m,h]=p,{id:g,styleId:S}=Ft(l,t,n.styleMirror);return(g&&g!==-1||S&&S!==-1)&&e({id:g,styleId:S,adds:[{rule:m,index:h}]}),d.apply(l,p)})});let o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:H((d,l,p)=>{let[m]=p,{id:h,styleId:g}=Ft(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:m}]}),d.apply(l,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:H((d,l,p)=>{let[m]=p,{id:h,styleId:g}=Ft(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:m}),d.apply(l,p)})}));let c;r.CSSStyleSheet.prototype.replaceSync&&(c=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:H((d,l,p)=>{let[m]=p,{id:h,styleId:g}=Ft(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:m}),d.apply(l,p)})}));let a={};Co("CSSGroupingRule")?a.CSSGroupingRule=r.CSSGroupingRule:(Co("CSSMediaRule")&&(a.CSSMediaRule=r.CSSMediaRule),Co("CSSConditionRule")&&(a.CSSConditionRule=r.CSSConditionRule),Co("CSSSupportsRule")&&(a.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(a).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:H((p,m,h)=>{let[g,S]=h,{id:_,styleId:R}=Ft(m.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||R&&R!==-1)&&e({id:_,styleId:R,adds:[{rule:g,index:[...No(m),S||0]}]}),p.apply(m,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:H((p,m,h)=>{let[g]=h,{id:S,styleId:_}=Ft(m.parentStyleSheet,t,n.styleMirror);return(S&&S!==-1||_&&_!==-1)&&e({id:S,styleId:_,removes:[{index:[...No(m),g]}]}),p.apply(m,h)})})}),H(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,s&&(r.CSSStyleSheet.prototype.replace=s),c&&(r.CSSStyleSheet.prototype.replaceSync=c),Object.entries(a).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function np({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let i=n.nodeName==="#document"?Ze([n,"access",s=>s.defaultView,"optionalAccess",s=>s.Document]):Ze([n,"access",s=>s.ownerDocument,"optionalAccess",s=>s.defaultView,"optionalAccess",s=>s.ShadowRoot]),o=Ze([i,"optionalAccess",s=>s.prototype])?Object.getOwnPropertyDescriptor(Ze([i,"optionalAccess",s=>s.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return Ze([o,"access",s=>s.get,"optionalAccess",s=>s.call,"call",s=>s(this)])},set(s){let c=Ze([o,"access",a=>a.set,"optionalAccess",a=>a.call,"call",a=>a(this,s)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(s,r)}catch{}return c}}),H(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function ev({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){let o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:H((c,a,u)=>{let[d,l,p]=u;if(n.has(d))return o.apply(a,[d,l,p]);let{id:m,styleId:h}=Ft(Ze([a,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(m&&m!==-1||h&&h!==-1)&&e({id:m,styleId:h,set:{property:d,value:l,priority:p},index:No(a.parentRule)}),c.apply(a,u)})});let s=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:H((c,a,u)=>{let[d]=u;if(n.has(d))return s.apply(a,[d]);let{id:l,styleId:p}=Ft(Ze([a,"access",m=>m.parentRule,"optionalAccess",m=>m.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:No(a.parentRule)}),c.apply(a,u)})}),H(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=s})}function tv({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:s}){let c=H(u=>Xr(H(d=>{let l=ni(d);if(!l||Ne(l,t,n,r,!0))return;let{currentTime:p,volume:m,muted:h,playbackRate:g}=l;e({type:u,id:i.getId(l),currentTime:p,volume:m,muted:h,playbackRate:g})}),o.media||500)),a=[we("play",c(0),s),we("pause",c(1),s),we("seeked",c(2),s),we("volumechange",c(3),s),we("ratechange",c(4),s)];return H(()=>{a.forEach(u=>u())})}function nv({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(a,u,d){let l=new o(a,u,d);return i.set(l,{family:a,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};let s=Xc(t.fonts,"add",function(c){return function(a){return Wo(H(()=>{let u=i.get(a);u&&(e(u),i.delete(a))}),0),c.apply(this,[a])}});return r.push(()=>{n.FontFace=o}),r.push(s),H(()=>{r.forEach(c=>c())})}function rv(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:s}=e,c=!0,a=H(()=>{let u=t.getSelection();if(!u||c&&Ze([u,"optionalAccess",p=>p.isCollapsed]))return;c=u.isCollapsed||!1;let d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){let m=u.getRangeAt(p),{startContainer:h,startOffset:g,endContainer:S,endOffset:_}=m;Ne(h,r,i,o,!0)||Ne(S,r,i,o,!0)||d.push({start:n.getId(h),startOffset:g,end:n.getId(S),endOffset:_})}s({ranges:d})});return a(),we("selectionchange",a)}function iv({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Xc(n.customElements,"define",function(i){return function(o,s,c){try{t({define:{name:o}})}catch{}return i.apply(this,[o,s,c])}})}function ov(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=ep(e,e.doc));let i=Y_(e),o=K_(e),s=tp(e),c=J_(e,{win:n}),a=Q_(e),u=tv(e),d=()=>{},l=()=>{},p=()=>{},m=()=>{};e.recordDOM&&(d=Z_(e,{win:n}),l=np(e,e.doc),p=ev(e,{win:n}),e.collectFonts&&(m=nv(e)));let h=rv(e),g=iv(e),S=[];for(let _ of e.plugins)S.push(_.observer(_.callback,n,_.options));return H(()=>{$n.forEach(_=>_.reset()),Ze([r,"optionalAccess",_=>_.disconnect,"call",_=>_()]),i(),o(),s(),c(),a(),u(),d(),l(),p(),m(),h(),g(),S.forEach(_=>_())})}function wo(e){return typeof window[e]<"u"}function Co(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Qr=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){let o=r||this.getIdToRemoteIdMap(t),s=i||this.getRemoteIdToIdMap(t),c=o.get(n);return c||(c=this.generateIdFn(),o.set(n,c),s.set(c,n)),c}getIds(t,n){let r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,i))}getRemoteId(t,n,r){let i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let o=i.get(n);return o||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function Rf(e){let t,n=e[0],r=1;for(;r<e.length;){let i=e[r],o=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=o(n)):(i==="call"||i==="optionalCall")&&(n=o((...s)=>n.call(t,...s)),t=void 0)}return n}var Oc=class{constructor(){this.crossOriginIframeMirror=new Qr(Jc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},Dc=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qr(Jc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Rf([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);let r=Zc(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let i=this.crossOriginIframeMap.get(t.source);if(!i)return;let o=this.transformCrossOriginEvent(i,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case L.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:L.IncrementalSnapshot,data:{source:x.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case L.Meta:case L.Load:case L.DomContentLoaded:return!1;case L.Plugin:return n;case L.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case L.IncrementalSnapshot:switch(n.data.source){case x.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case x.Drag:case x.TouchMove:case x.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case x.ViewportResize:return!1;case x.MediaInteraction:case x.MouseInteraction:case x.Scroll:case x.CanvasMutation:case x.Input:return this.replaceIds(n.data,t,["id"]),n;case x.StyleSheetRule:case x.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case x.Font:return n;case x.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case x.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Rf([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(let o of i)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==fe.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},Nc=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},Lc=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!qr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=ep(E(f({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(tp(E(f({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),Wo(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(np({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=Zc(t),r=z_(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(Xc(t.prototype,"attachShadow",function(i){return function(o){let s=i.call(this,o);return this.shadowRoot&&Qf(this)&&r.addShadowRoot(this.shadowRoot,n),s}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Lo=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},Pc=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new xc,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},i=[];for(let o of t){let s;this.styleMirror.has(o)?s=this.styleMirror.getId(o):(s=this.styleMirror.add(o),i.push({styleId:s,rules:Array.from(o.rules||CSSRule,(c,a)=>({rule:Pf(c),index:a}))})),r.styleIds.push(s)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},Uc=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,H_(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},re,Po;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=On([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Qe=p_();function Tt(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:s=null,ignoreClass:c="rr-ignore",ignoreSelector:a=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:m=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:S,slimDOMOptions:_,maskAttributeFn:R,maskInputFn:U,maskTextFn:z,maxCanvasSize:J=null,packFn:k,sampling:I={},dataURLOptions:F={},mousemoveWait:ie,recordDOM:v=!0,recordCanvas:M=!1,recordCrossOriginIframes:X=!1,recordAfter:Q=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:oe=!1,collectFonts:Le=!1,inlineImages:j=!1,plugins:xe,keepIframeSrcFn:Z=()=>!1,ignoreCSSAttributes:je=new Set([]),errorHandler:dt,onMutation:cu,getCanvasManager:Dp}=e;q_(dt);let ii=X?window.parent===window:!0,Wn=!1;if(!ii)try{window.parent.document&&(Wn=!1)}catch{Wn=!0}if(ii&&!t)throw new Error("emit function is required");if(!ii&&!Wn)return()=>{};ie!==void 0&&I.mousemove===void 0&&(I.mousemove=ie),Qe.reset();let Yo=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:S!==void 0?S:{},Ko=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};F_();let Jo,Xo=0,uu=W=>{for(let ze of xe||[])ze.eventProcessor&&(W=ze.eventProcessor(W));return k&&!Wn&&(W=k(W)),W};re=(W,ze)=>{let $=W;if($.timestamp=Do(),On([$n,"access",ee=>ee[0],"optionalAccess",ee=>ee.isFrozen,"call",ee=>ee()])&&$.type!==L.FullSnapshot&&!($.type===L.IncrementalSnapshot&&$.data.source===x.Mutation)&&$n.forEach(ee=>ee.unfreeze()),ii)On([t,"optionalCall",ee=>ee(uu($),ze)]);else if(Wn){let ee={type:"rrweb",event:uu($),origin:window.location.origin,isCheckout:ze};window.parent.postMessage(ee,"*")}if($.type===L.FullSnapshot)Jo=$,Xo=0;else if($.type===L.IncrementalSnapshot){if($.data.source===x.Mutation&&$.data.isAttachIframe)return;Xo++;let ee=r&&Xo>=r,G=n&&Jo&&$.timestamp-Jo.timestamp>n;(ee||G)&&es(!0)}};let oi=W=>{re({type:L.IncrementalSnapshot,data:f({source:x.Mutation},W)})},lu=W=>re({type:L.IncrementalSnapshot,data:f({source:x.Scroll},W)}),Np=W=>re({type:L.IncrementalSnapshot,data:f({source:x.CanvasMutation},W)}),Lp=W=>re({type:L.IncrementalSnapshot,data:f({source:x.AdoptedStyleSheet},W)}),Ht=new Pc({mutationCb:oi,adoptedStyleSheetCb:Lp}),jt=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Oc:new Dc({mirror:Qe,mutationCb:oi,stylesheetManager:Ht,recordCrossOriginIframes:X,wrappedEmit:re});for(let W of xe||[])W.getMirror&&W.getMirror({nodeMirror:Qe,crossOriginIframeMirror:jt.crossOriginIframeMirror,crossOriginIframeStyleMirror:jt.crossOriginIframeStyleMirror});let Qo=new Uc,Zo=av(Dp,{mirror:Qe,win:window,mutationCb:W=>re({type:L.IncrementalSnapshot,data:f({source:x.CanvasMutation},W)}),recordCanvas:M,blockClass:i,blockSelector:o,unblockSelector:s,maxCanvasSize:J,sampling:I.canvas,dataURLOptions:F,errorHandler:dt}),si=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Nc:new Lc({mutationCb:oi,scrollCb:lu,bypassOptions:{onMutation:cu,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskInputOptions:Yo,dataURLOptions:F,maskAttributeFn:R,maskTextFn:z,maskInputFn:U,recordCanvas:M,inlineImages:j,sampling:I,slimDOMOptions:Ko,iframeManager:jt,stylesheetManager:Ht,canvasManager:Zo,keepIframeSrcFn:Z,processedNodeManager:Qo},mirror:Qe}),es=(W=!1)=>{if(!v)return;re({type:L.Meta,data:{href:window.location.href,width:qf(),height:Gf()}},W),Ht.reset(),si.init(),$n.forEach($=>$.lock());let ze=P_(document,{mirror:Qe,blockClass:i,blockSelector:o,unblockSelector:s,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:m,inlineStylesheet:h,maskAllInputs:Yo,maskAttributeFn:R,maskInputFn:U,maskTextFn:z,slimDOM:Ko,dataURLOptions:F,recordCanvas:M,inlineImages:j,onSerialize:$=>{Kf($,Qe)&&jt.addIframe($),Jf($,Qe)&&Ht.trackLinkElement($),Rc($)&&si.addShadowRoot($.shadowRoot,document)},onIframeLoad:($,ee)=>{jt.attachIframe($,ee),$.contentWindow&&Zo.addWindow($.contentWindow),si.observeAttachShadow($)},onStylesheetLoad:($,ee)=>{Ht.attachLinkElement($,ee)},keepIframeSrcFn:Z});if(!ze)return console.warn("Failed to snapshot the document");re({type:L.FullSnapshot,data:{node:ze,initialOffset:Wf(window)}}),$n.forEach($=>$.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ht.adoptStyleSheets(document.adoptedStyleSheets,Qe.getId(document))};Po=es;try{let W=[],ze=ee=>H(ov)({onMutation:cu,mutationCb:oi,mousemoveCb:(G,zt)=>re({type:L.IncrementalSnapshot,data:{source:zt,positions:G}}),mouseInteractionCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.MouseInteraction},G)}),scrollCb:lu,viewportResizeCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.ViewportResize},G)}),inputCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.Input},G)}),mediaInteractionCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.MediaInteraction},G)}),styleSheetRuleCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.StyleSheetRule},G)}),styleDeclarationCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.StyleDeclaration},G)}),canvasMutationCb:Np,fontCb:G=>re({type:L.IncrementalSnapshot,data:f({source:x.Font},G)}),selectionCb:G=>{re({type:L.IncrementalSnapshot,data:f({source:x.Selection},G)})},customElementCb:G=>{re({type:L.IncrementalSnapshot,data:f({source:x.CustomElement},G)})},blockClass:i,ignoreClass:c,ignoreSelector:a,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:m,maskInputOptions:Yo,inlineStylesheet:h,sampling:I,recordDOM:v,recordCanvas:M,inlineImages:j,userTriggeredOnInput:oe,collectFonts:Le,doc:ee,maskAttributeFn:R,maskInputFn:U,maskTextFn:z,keepIframeSrcFn:Z,blockSelector:o,unblockSelector:s,slimDOMOptions:Ko,dataURLOptions:F,mirror:Qe,iframeManager:jt,stylesheetManager:Ht,shadowDomManager:si,processedNodeManager:Qo,canvasManager:Zo,ignoreCSSAttributes:je,plugins:On([xe,"optionalAccess",G=>G.filter,"call",G=>G(zt=>zt.observer),"optionalAccess",G=>G.map,"call",G=>G(zt=>({observer:zt.observer,options:zt.options,callback:Pp=>re({type:L.Plugin,data:{plugin:zt.name,payload:Pp}})}))])||[]},{});jt.addLoadListener(ee=>{try{W.push(ze(ee.contentDocument))}catch(G){console.warn(G)}});let $=()=>{es(),W.push(ze(document))};return document.readyState==="interactive"||document.readyState==="complete"?$():(W.push(we("DOMContentLoaded",()=>{re({type:L.DomContentLoaded,data:{}}),Q==="DOMContentLoaded"&&$()})),W.push(we("load",()=>{re({type:L.Load,data:{}}),Q==="load"&&$()},window))),()=>{W.forEach(ee=>ee()),Qo.destroy(),Po=void 0,V_()}}catch(W){console.warn(W)}}function sv(e){if(!Po)throw new Error("please take full snapshot after start recording");Po(e)}Tt.mirror=Qe;Tt.takeFullSnapshot=sv;function av(e,t){try{return e?e(t):new Lo}catch{return console.warn("Unable to initialize CanvasManager"),new Lo}}var cv=3,uv=5;function eu(e){return e>9999999999?e:e*1e3}function vc(e){return e>9999999999?e/1e3:e}function ri(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:L.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:be(t,10,1e3)}}),t.category==="console")))}var lv="button,a";function rp(e){return e.closest(lv)||e}function ip(e){let t=op(e);return!t||!(t instanceof Element)?t:rp(t)}function op(e){return dv(e)?e.target:e}function dv(e){return typeof e=="object"&&!!e&&"target"in e}var Bt;function fv(e){return Bt||(Bt=[],pv()),Bt.push(e),()=>{let t=Bt?Bt.indexOf(e):-1;t>-1&&Bt.splice(t,1)}}function pv(){se(K,"open",function(e){return function(...t){if(Bt)try{Bt.forEach(n=>n())}catch{}return e.apply(K,t)}})}var hv=new Set([x.Mutation,x.StyleSheetRule,x.StyleDeclaration,x.AdoptedStyleSheet,x.CanvasMutation,x.Selection,x.MediaInteraction]);function mv(e,t,n){e.handleClick(t,n)}var Fc=class{constructor(t,n,r=ri){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=fv(()=>{this._lastMutation=xf()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(yv(n,this._ignoreSelector)||!Sv(t))return;let r={timestamp:vc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=vc(t)}registerScroll(t=Date.now()){this._lastScroll=vc(t)}registerClick(t){let n=rp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=xf();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!i,{clickCount:s,clickBreadcrumb:c}=t;if(o){let a=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=a<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.slowClickDetected",data:E(f({},c.data),{url:K.location.href,route:n.getCurrentRoute(),timeAfterClickMs:a,endReason:u,clickCount:s||1})};this._addBreadcrumbEvent(n,d);return}if(s>1){let a={type:"default",message:c.message,timestamp:c.timestamp,category:"ui.multiClick",data:E(f({},c.data),{url:K.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0})};this._addBreadcrumbEvent(n,a)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Pt(()=>this._checkClicks(),1e3)}},gv=["A","BUTTON","INPUT"];function yv(e,t){return!!(!gv.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function Sv(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function xf(){return Date.now()/1e3}function _v(e,t){try{if(!vv(t))return;let{source:n}=t.data;if(hv.has(n)&&e.registerMutation(t.timestamp),n===x.Scroll&&e.registerScroll(t.timestamp),Ev(t)){let{type:r,id:i}=t.data,o=Tt.mirror.getNode(i);o instanceof HTMLElement&&r===Te.Click&&e.registerClick(o)}}catch{}}function vv(e){return e.type===cv}function Ev(e){return e.data.source===x.MouseInteraction}function lt(e){return f({timestamp:Date.now()/1e3,type:"default"},e)}var tu=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(tu||{}),Iv=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function bv(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(Iv.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var Tv=e=>t=>{if(!e.isEnabled())return;let n=wv(t);if(!n)return;let r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&mv(e.clickDetector,n,ip(t.event)),ri(e,n)};function sp(e,t){let n=Tt.mirror.getId(e),r=n&&Tt.mirror.getNode(n),i=r&&Tt.mirror.getMeta(r),o=i&&Rv(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(s=>s.type===tu.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:bv(o.attributes)}}:{}}}function wv(e){let{target:t,message:n}=Cv(e);return lt(f({category:`ui.${e.name}`},sp(t,n)))}function Cv(e){let t=e.name==="click",n,r=null;try{r=t?ip(e.event):op(e.event),n=At(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Rv(e){return e.type===tu.Element}function xv(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=Av(t);n&&ri(e,n)}function Av(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:s}=e;if(!s||kv(s)||!o)return null;let c=t||r||i,a=o.length===1;if(!c&&a)return null;let u=At(s,{maxStringLength:200})||"<unknown>",d=sp(s,u);return lt({category:"ui.keyDown",message:u,data:E(f({},d.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o})})}function kv(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var Mv={resource:Pv,paint:Nv,navigation:Lv};function Ro(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Ov(e){return e.map(Dv).filter(Boolean)}function Dv(e){let t=Mv[e.entryType];return t?t(e):null}function zn(e){return((ya||K.performance.timeOrigin)+e)/1e3}function Nv(e){let{duration:t,entryType:n,name:r,startTime:i}=e,o=zn(i);return{type:n,name:r,start:o,end:o+t,data:void 0}}function Lv(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:s,domContentLoadedEventStart:c,domContentLoadedEventEnd:a,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:m,transferSize:h,type:g}=e;return i===0?null:{type:`${t}.${g}`,start:zn(m),end:zn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:s,duration:i,domInteractive:u,domContentLoadedEventStart:c,domContentLoadedEventEnd:a,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:p}}}function Pv(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:s,encodedBodySize:c,responseStatus:a,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:zn(o),end:zn(i),name:r,data:{size:u,statusCode:a,decodedBodySize:s,encodedBodySize:c}}}function Uv(e){let t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return Go(e,"largest-contentful-paint",n)}function Fv(e){return e.sources!==void 0}function Bv(e){let t=[],n=[];for(let r of e.entries)if(Fv(r)){let i=[];for(let o of r.sources)if(o.node){n.push(o.node);let s=Tt.mirror.getId(o.node);s&&i.push(s)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return Go(e,"cumulative-layout-shift",n,t)}function $v(e){let t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Go(e,"first-input-delay",n)}function Hv(e){let t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return Go(e,"interaction-to-next-paint",n)}function Go(e,t,n,r){let i=e.value,o=e.rating,s=zn(i);return{type:"web-vital",name:t,start:s,end:s,data:{value:i,size:i,rating:o,nodeIds:n?n.map(c=>Tt.mirror.getId(c)):void 0,attributions:r}}}function jv(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(i=>{r.push(pc(i,n))}),r.push(lc(Ro(Uv,e)),uc(Ro(Bv,e)),dc(Ro($v,e)),fc(Ro(Hv,e))),()=>{r.forEach(i=>i())}}var w=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zv='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Wv(){let e=new Blob([zv]);return URL.createObjectURL(e)}var Af=["info","warn","error","log"],xo="[Replay] ";function Ec(e,t="info"){He({category:"console",data:{logger:"replay"},level:t,message:`${xo}${e}`},{level:t})}function Gv(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return w?(Af.forEach(r=>{n[r]=(...i)=>{y[r](xo,...i),t&&Ec(i.join(""),Or(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),y.error(xo,r),e?Dt(r):t&&Ec(r,"error")},n.infoTick=(...r)=>{y.info(xo,...r),t&&setTimeout(()=>Ec(r[0]),0)}):Af.forEach(r=>{n[r]=()=>{}}),n}var C=Gv(),Zr=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Yc}.`)}},Uo=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Yc)throw new Zr;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?eu(t):null}},Bc=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){w&&C.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((i,o)=>{let s=({data:c})=>{let a=c;if(a.method===t&&a.id===r){if(this._worker.removeEventListener("message",s),!a.success){w&&C.error("Error in compression worker: ",a.response),o(new Error("Error in compression worker"));return}i(a.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},$c=class{constructor(t){this._worker=new Bc(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=eu(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Yc?Promise.reject(new Zr):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{w&&C.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},Hc=class{constructor(t){this._fallback=new Uo,this._compression=new $c(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){w&&C.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(let o of t)i.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(o){w&&C.exception(o,"Failed to add events when switching buffers.")}}};function qv({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=Vv(t);if(n)return n}return w&&C.info("Using simple buffer"),new Uo}function Vv(e){try{let t=e||Yv();if(!t)return;w&&C.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new Hc(n)}catch(t){w&&C.exception(t,"Failed to create compression worker")}}function Yv(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Wv():""}function nu(){try{return"sessionStorage"in K&&!!K.sessionStorage}catch{return!1}}function Kv(e){Jv(),e.session=void 0}function Jv(){if(nu())try{K.sessionStorage.removeItem(qc)}catch{}}function ap(e){return e===void 0?!1:Math.random()<e}function cp(e){let t=Date.now(),n=e.id||ae(),r=e.started||t,i=e.lastActivity||t,o=e.segmentId||0,s=e.sampled,c=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:o,sampled:s,previousSessionId:c}}function ru(e){if(nu())try{K.sessionStorage.setItem(qc,JSON.stringify(e))}catch{}}function Xv(e,t){return ap(e)?"session":t?"buffer":!1}function kf({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let i=Xv(e,t),o=cp({sampled:i,previousSessionId:r});return n&&ru(o),o}function Qv(){if(!nu())return null;try{let e=K.sessionStorage.getItem(qc);if(!e)return null;let t=JSON.parse(e);return w&&C.infoTick("Loading existing session"),cp(t)}catch{return null}}function jc(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function up(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return jc(e.started,t,r)||jc(e.lastActivity,n,r)}function lp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!up(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Ic({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let i=r.stickySession&&Qv();return i?lp(i,{sessionIdleExpire:e,maxReplayDuration:t})?(w&&C.infoTick("Session in sessionStorage is expired, creating new one..."),kf(r,{previousSessionId:i.id})):i:(w&&C.infoTick("Creating new session"),kf(r,{previousSessionId:n}))}function Zv(e){return e.type===L.Custom}function iu(e,t,n){return fp(e,t)?(dp(e,t,n),!0):!1}function eE(e,t,n){return fp(e,t)?dp(e,t,n):Promise.resolve(null)}async function dp(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let o=e.getOptions(),s=tE(t,o.beforeAddRecordingEvent);return s?await r.addEvent(s):void 0}catch(o){let s=o&&o instanceof Zr,c=s?"addEventSizeExceeded":"addEvent";if(s&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:c});let a=P();a&&a.recordDroppedEvent("internal_sdk_error","replay")}}function fp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=eu(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(w&&C.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function tE(e,t){try{if(typeof t=="function"&&Zv(e))return t(e)}catch(n){return w&&C.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function ou(e){return!e.type}function zc(e){return e.type==="transaction"}function nE(e){return e.type==="replay_event"}function Mf(e){return e.type==="feedback"}function rE(e){return(t,n)=>{if(!e.isEnabled()||!ou(t)&&!zc(t))return;let r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(zc(t)){iE(e,t);return}oE(e,t)}}}function iE(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function oE(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Pt(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function sE(e){return t=>{!e.isEnabled()||!ou(t)||aE(e,t)}}function aE(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=lt({category:"replay.hydrate-error",data:{url:mr()}});ri(e,r)}}function cE(e){let t=P();t&&t.on("beforeAddBreadcrumb",n=>uE(e,n))}function uE(e,t){if(!e.isEnabled()||!pp(t))return;let n=lE(t);n&&ri(e,n)}function lE(e){return!pp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?dE(e):lt(e)}function dE(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return lt(e);let n=!1,r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>To?(n=!0,`${i.slice(0,To)}\u2026`):i;if(typeof i=="object")try{let o=be(i,7);return JSON.stringify(o).length>To?(n=!0,`${JSON.stringify(o,null,2).slice(0,To)}\u2026`):o}catch{}return i});return lt(E(f({},e),{data:f(E(f({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function pp(e){return!!e.category}function fE(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function hp(){let e=ne().getPropagationContext().dsc;e&&delete e.replay_id;let t=Tn();if(t){let n=vr(t);delete n.replay_id}}function pE(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:L.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function hE(e,t){return e.recordingMode!=="buffer"||t.message===Vc||!t.exception||t.type?!1:ap(e.getOptions().errorSampleRate)}function mE(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:nE(t)?(delete t.breadcrumbs,t):!ou(t)&&!zc(t)&&!Mf(t)?t:e.checkAndHandleExpiredSession()?Mf(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),pE(e,t),t):fE(t,n)&&!e.getOptions()._experiments.captureExceptions?(w&&C.log("Ignoring error from rrweb internals",t),null):((hE(e,t)||e.recordingMode==="session")&&(t.tags=E(f({},t.tags),{replayId:e.getSessionId()})),t):(hp(),t),{id:"Replay"})}function qo(e,t){return t.map(({type:n,start:r,end:i,name:o,data:s})=>{let c=e.throttledAddEvent({type:L.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:s}}});return typeof c=="string"?Promise.resolve(null):c})}function gE(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function yE(e){return t=>{if(!e.isEnabled())return;let n=gE(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(qo(e,[n]),!1)))}}function SE(e,t){return w&&e.getOptions()._experiments.traceInternals?!1:ja(t,P())}function mp(e,t){e.isEnabled()&&t!==null&&(SE(e,t.name)||e.addUpdate(()=>(qo(e,[t]),!0)))}function Vo(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=_p(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function gp(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function yp(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[_p(e)];if(!e)return[void 0]}catch(t){return w&&C.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return w&&C.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Fo(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=f({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Sp(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:s,request:c,response:a}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:te({method:o,statusCode:s,request:c,response:a})}}function ei(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function $t(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:o}=_E(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r}function Wc(e,t){return Object.entries(e).reduce((n,[r,i])=>{let o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n},{})}function _p(e){return new URLSearchParams(e).toString()}function _E(e){if(!e||typeof e!="string")return{body:e};let t=e.length>hf,n=vE(e);if(t){let r=e.slice(0,hf);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function vE(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Bo(e,t){let n=EE(e);return kt(n,t)}function EE(e,t=K.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(K.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function IE(e,t,n){try{let r=await TE(e,t,n),i=Sp("resource.fetch",r);mp(n.replay,i)}catch(r){w&&C.exception(r,"Failed to capture fetch breadcrumb")}}function bE(e,t){let{input:n,response:r}=t,i=n?vp(n):void 0,o=Vo(i),s=r?gp(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),s!==void 0&&(e.data.response_body_size=s)}async function TE(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:s,method:c,status_code:a=0,request_body_size:u,response_body_size:d}=e.data,l=Bo(s,n.networkDetailAllowUrls)&&!Bo(s,n.networkDetailDenyUrls),p=l?wE(n,t.input,u):ei(u),m=await CE(l,n,t.response,d);return{startTimestamp:i,endTimestamp:o,url:s,method:c,statusCode:a,request:p,response:m}}function wE({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let i=n?AE(n,t):{};if(!e)return $t(i,r,void 0);let o=vp(n),[s,c]=yp(o),a=$t(i,r,s);return c?Fo(a,c):a}async function CE(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return ei(i);let o=r?Ep(r.headers,n):{};if(!r||!t&&i!==void 0)return $t(o,i,void 0);let[s,c]=await xE(r),a=RE(s,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});return c?Fo(a,c):a}function RE(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{let o=e&&e.length&&n===void 0?Vo(e):n;return r?t?$t(i,o,e):$t(i,o,void 0):ei(o)}catch(o){return w&&C.exception(o,"Failed to serialize response body"),$t(i,n,void 0)}}async function xE(e){let t=kE(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await ME(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(w&&C.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(w&&C.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function vp(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function Ep(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function AE(e,t){return e.length===1&&typeof e[0]!="string"?Of(e[0],t):e.length===2?Of(e[1],t):{}}function Of(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?Ep(n,t):Array.isArray(n)?{}:Wc(n,t):{}}function kE(e){try{return e.clone()}catch(t){w&&C.exception(t,"Failed to clone response body")}}function ME(e){return new Promise((t,n)=>{let r=Pt(()=>n(new Error("Timeout while trying to read response body")),500);OE(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function OE(e){return await e.text()}async function DE(e,t,n){try{let r=LE(e,t,n),i=Sp("resource.xhr",r);mp(n.replay,i)}catch(r){w&&C.exception(r,"Failed to capture xhr breadcrumb")}}function NE(e,t){let{xhr:n,input:r}=t;if(!n)return;let i=Vo(r),o=n.getResponseHeader("content-length")?gp(n.getResponseHeader("content-length")):BE(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),o!==void 0&&(e.data.response_body_size=o)}function LE(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:s,xhr:c}=t,{url:a,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!a)return null;if(!c||!Bo(a,n.networkDetailAllowUrls)||Bo(a,n.networkDetailDenyUrls)){let k=ei(l),I=ei(p);return{startTimestamp:i,endTimestamp:o,url:a,method:u,statusCode:d,request:k,response:I}}let m=c[It],h=m?Wc(m.request_headers,n.networkRequestHeaders):{},g=Wc(PE(c),n.networkResponseHeaders),[S,_]=n.networkCaptureBodies?yp(s):[void 0],[R,U]=n.networkCaptureBodies?UE(c):[void 0],z=$t(h,l,S),J=$t(g,p,R);return{startTimestamp:i,endTimestamp:o,url:a,method:u,statusCode:d,request:_?Fo(z,_):z,response:U?Fo(J,U):J}}function PE(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[i,o]=r.split(": ");return o&&(n[i.toLowerCase()]=o),n},{}):{}}function UE(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return FE(e.response,e.responseType)}catch(n){t.push(n)}return w&&C.warn("Failed to get xhr response body",...t),[void 0]}function FE(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return w&&C.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return w&&C.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function BE(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Vo(n)}catch{return}}function $E(e){let t=P();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s}=e.getOptions(),c={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:o,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(a,u)=>HE(c,a,u))}catch{}}function HE(e,t,n){if(t.data)try{jE(t)&&WE(n)&&(NE(t,n),DE(t,n,e)),zE(t)&&GE(n)&&(bE(t,n),IE(t,n,e))}catch(r){w&&C.exception(r,"Error when enriching network breadcrumb")}}function jE(e){return e.category==="xhr"}function zE(e){return e.category==="fetch"}function WE(e){return e&&e.xhr}function GE(e){return e&&e.response}function qE(e){let t=P();Fr(Tv(e)),tn(yE(e)),cE(e),$E(e);let n=mE(e);Zi(n),t&&(t.on("beforeSendEvent",sE(e)),t.on("afterSendEvent",rE(e)),t.on("createDsc",r=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,i)=>{let o=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&o&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=o)}))}async function VE(e){try{return Promise.all(qo(e,[YE(K.performance.memory)]))}catch{return[]}}function YE(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function KE(e,t,n){let r,i,o,s=n&&n.maxWait?Math.max(n.maxWait,t):0;function c(){return a(),r=e(),r}function a(){i!==void 0&&clearTimeout(i),o!==void 0&&clearTimeout(o),i=o=void 0}function u(){return i!==void 0||o!==void 0?c():r}function d(){return i&&clearTimeout(i),i=Pt(c,t),s&&o===void 0&&(o=Pt(c,s)),r}return d.cancel=a,d.flush=u,d}var nn=b.navigator;function JE(){return/iPhone|iPad|iPod/i.test(nn&&nn.userAgent||"")||/Macintosh/i.test(nn&&nn.userAgent||"")&&nn&&nn.maxTouchPoints&&nn.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function XE(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){w&&C.warn("Received replay event after session expired.");return}let i=r||!t;t=!0,e.clickDetector&&_v(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!iu(e,n,i))return!0;if(!i)return!1;let o=e.session;if(ZE(e,i),e.recordingMode==="buffer"&&o&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(w&&C.info(`Updating session start time to earliest event in buffer to ${new Date(s)}`),o.started=s,e.getOptions().stickySession&&ru(o))}return o&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function QE(e){let t=e.getOptions();return{type:L.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function ZE(e,t){!t||!e.session||e.session.segmentId!==0||iu(e,QE(e),!1)}function eI(e,t,n,r){return $e(Ir(e,Rn(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function tI({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function nI({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:i};e.emit("preprocessEvent",r,o);let s=await br(e.getOptions(),r,o,t,e,Ie());if(!s)return null;s.platform=s.platform||"javascript";let c=e.getSdkMetadata(),{name:a,version:u}=c&&c.sdk||{};return s.sdk=E(f({},s.sdk),{name:a||"sentry.javascript.unknown",version:u||"0.0.0"}),s}async function rI({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){let s=tI({recordingData:e,headers:{segment_id:n}}),{urls:c,errorIds:a,traceIds:u,initialTimestamp:d}=r,l=P(),p=ne(),m=l&&l.getTransport(),h=l&&l.getDsn();if(!l||!m||!h||!o.sampled)return Ee({});let g={type:YS,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:a,trace_ids:u,urls:c,replay_id:t,segment_id:n,replay_type:o.sampled},S=await nI({scope:p,client:l,replayId:t,event:g});if(!S)return l.recordDroppedEvent("event_processor","replay",g),w&&C.info("An event processor returned `null`, will not send event."),Ee({});delete S.sdkProcessingMetadata;let _=eI(S,s,h,l.getOptions().tunnel),R;try{R=await m.send(_)}catch(z){let J=new Error(Vc);try{J.cause=z}catch{}throw J}if(typeof R.statusCode=="number"&&(R.statusCode<200||R.statusCode>=300))throw new $o(R.statusCode);let U=Ar({},R);if(xr(U,"replay"))throw new ti(U);return R}var $o=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},ti=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function Ip(e,t={count:0,interval:e_}){let{recordingData:n,onError:r}=e;if(n.length)try{return await rI(e),!0}catch(i){if(i instanceof $o||i instanceof ti)throw i;if(xn("Replays",{_retryCount:t.count}),r&&r(i),t.count>=t_){let o=new Error(`${Vc} - max retries exceeded`);try{o.cause=i}catch{}throw o}return t.interval*=++t.count,new Promise((o,s)=>{Pt(async()=>{try{await Ip(e,t),o(!0)}catch(c){s(c)}},t.interval)})}}var bp="__THROTTLED",iI="__SKIPPED";function oI(e,t,n){let r=new Map,i=c=>{let a=c-n;r.forEach((u,d)=>{d<a&&r.delete(d)})},o=()=>[...r.values()].reduce((c,a)=>c+a,0),s=!1;return(...c)=>{let a=Math.floor(Date.now()/1e3);if(i(a),o()>=t){let d=s;return s=!0,d?iI:bp}s=!1;let u=r.get(a)||0;return r.set(a,u+1),e(...c)}}var Gc=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:KS,sessionIdleExpire:JS},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=KE(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=oI((s,c)=>eE(this,s,c),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),o=r?{threshold:Math.min(n_,r),timeout:r,scrollTimeout:r_,ignoreSelector:i?i.join(","):""}:void 0;if(o&&(this.clickDetector=new Fc(this,o)),w){let s=t._experiments;C.setConfig({captureExceptions:!!s.captureExceptions,traceInternals:!!s.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){w&&C.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){w&&C.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",w&&C.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){w&&C.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){w&&C.info("Buffering is in progress, call `flush()` to save the replay");return}w&&C.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Ic({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){w&&C.info("Buffering is in progress, call `flush()` to save the replay");return}w&&C.infoTick("Starting replay in buffer mode");let t=Ic({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=Tt(f(E(f(E(f(f({},this._recordingOptions),this.recordingMode==="buffer"?{checkoutEveryNms:ZS}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{emit:XE(this)}),JE()),{onMutation:this._onMutationHandler}),t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}))}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{w&&C.info(`Stopping Replay${n?` triggered by ${n}`:""}`),hp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Kv(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),w&&C.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),w&&C.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();w&&C.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&jc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${K.location.pathname}${K.location.hash}${K.location.search}`,n=`${K.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===bp){let i=lt({category:"replay.throttled"});this.addUpdate(()=>!iu(this,{type:uv,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||Tn(),n=t&&vt(t),i=(n&&Je(n).data||{})[Ot];if(!(!n||!i||!["route","custom"].includes(i)))return Je(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=qv({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Ic({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return lp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{K.document.addEventListener("visibilitychange",this._handleVisibilityChange),K.addEventListener("blur",this._handleWindowBlur),K.addEventListener("focus",this._handleWindowFocus),K.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(qE(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=jv(this)}_removeListeners(){try{K.document.removeEventListener("visibilitychange",this._handleVisibilityChange),K.removeEventListener("blur",this._handleWindowBlur),K.removeEventListener("focus",this._handleWindowFocus),K.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{K.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=lt({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=lt({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{xv(this,t)}}_doChangeToBackgroundTasks(t){!this.session||up(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){w&&C.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:L.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Ov(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(qo(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){w&&C.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await VE(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();let o=await this.eventBuffer.finish();await Ip({replayId:t,recordingData:o,segmentId:i,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=P();if(r){let i=n instanceof ti?"ratelimit_backoff":"send_error";r.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){w&&C.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();let o=i<this._options.minReplayDuration,s=i>this._options.maxReplayDuration+5e3;if(o||s){w&&C.info(`Session duration (${Math.floor(i/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}let c=this.eventBuffer;c&&this.session.segmentId===0&&!c.hasCheckout&&w&&C.info("Flushing initial segment without checkout.");let a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ru(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,o=r&&n>r;if(n>i||o){let s=lt({category:"replay.mutations",data:{count:n,limit:o}});this._createCustomBreadcrumb(s)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function Wr(e,t){return[...e,...t].join(",")}function sI({mask:e,unmask:t,block:n,unblock:r,ignore:i}){let o=["base","iframe[srcdoc]:not([src])"],s=Wr(e,[".sentry-mask","[data-sentry-mask]"]),c=Wr(t,[]);return{maskTextSelector:s,unmaskTextSelector:c,blockSelector:Wr(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:Wr(r,[]),ignoreSelector:Wr(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function aI({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}var Df='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',cI=["content-length","content-type","accept"],Nf=!1,su=e=>new Ho(e),Ho=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=XS,flushMaxDelay:n=QS,minReplayDuration:r=i_,maxReplayDuration:i=mf,stickySession:o=!0,useCompression:s=!0,workerUrl:c,_experiments:a={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:m=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:_=[],networkCaptureBodies:R=!0,networkRequestHeaders:U=[],networkResponseHeaders:z=[],mask:J=[],maskAttributes:k=["title","placeholder"],unmask:I=[],block:F=[],unblock:ie=[],ignore:v=[],maskFn:M,beforeAddRecordingEvent:X,beforeErrorSampling:Q,onError:oe}={}){this.name=e.id;let Le=sI({mask:J,unmask:I,block:F,unblock:ie,ignore:v});if(this._recordingOptions=E(f({maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:M,maskInputFn:M,maskAttributeFn:(j,xe,Z)=>aI({maskAttributes:k,maskAllText:u,privacyOptions:Le,key:j,value:xe,el:Z})},Le),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:j=>{try{j.__rrweb__=!0}catch{}}}),this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,o_),maxReplayDuration:Math.min(i,mf),stickySession:o,useCompression:s,workerUrl:c,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:m,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:S,networkDetailDenyUrls:_,networkCaptureBodies:R,networkRequestHeaders:Lf(U),networkResponseHeaders:Lf(z),beforeAddRecordingEvent:X,beforeErrorSampling:Q,onError:oe,_experiments:a},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Df}`:Df),this._isInitialized&&oo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Nf}set _isInitialized(t){Nf=t}afterAllSetup(t){!oo()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=uI(this._initialOptions,t);this._replay=new Gc({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};Ho.__initStatic();function uI(e,t){let n=t.getOptions(),r=f({sessionSampleRate:0,errorSampleRate:0},te(e)),i=Cn(n.replaysSessionSampleRate),o=Cn(n.replaysOnErrorSampleRate);return i==null&&o==null&&de(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),o!=null&&(r.errorSampleRate=o),r}function Lf(e){return[...cI,...e.map(t=>t.toLowerCase())]}var fI=typeof __SENTRY_DEBUG__>"u"?!0:__SENTRY_DEBUG__;function pI(e={}){let t=[kn(),An(),Br(),Hr(),zr(),Mn(),jr()];return e.autoSessionTracking!==!1&&t.push($r()),t}function Tp(e){let t=f({defaultIntegrations:pI()},e);return kr(t,"angular"),hI(),Sc(t)}function hI(){let t=pi&&pi.major?parseInt(pi.major,10):void 0;t&&(t<14&&fI&&y.warn(`This Sentry SDK does not officially support Angular ${t}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),xn("angular",{version:t}))}var mI=typeof Zone<"u"&&Zone.root&&Zone.root.run;function au(e){return mI?Zone.root.run(e):e()}function gI(e){return e&&e.ngOriginalError?e.ngOriginalError:e}function yI(e){return wp(e.error)?e.error:typeof ErrorEvent<"u"&&e.error instanceof ErrorEvent&&e.error.message?e.error.message:typeof e.error=="string"?`Server returned code ${e.status} with body "${e.error}"`:e.message}function wp(e){if(e instanceof Error)return!0;if(e===null||typeof e!="object")return!1;let t=e;return ue(t.name)&&ue(t.message)&&(t.stack===void 0||ue(t.stack))}var SI=(()=>{class e{constructor(n){this._options=f({logErrors:!0},n)}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(n){let r=this._extractError(n)||"Handled unknown error",i=au(()=>Dt(r,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&de(()=>console.error(r)),this._options.showDialog){let o=P();o&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=o.on("afterSendEvent",s=>{!s.type&&s.event_id&&au(()=>{bo(E(f({},this._options.dialogOptions),{eventId:s.event_id}))})}):o||au(()=>{bo(E(f({},this._options.dialogOptions),{eventId:i}))})}}_extractError(n){if(this._options.extractor){let r=this._defaultExtractor.bind(this);return this._options.extractor(n,r)}return this._defaultExtractor(n)}_defaultExtractor(n){let r=gI(n);return r instanceof Fu?yI(r):typeof r=="string"||wp(r)?r:null}}return e.\u0275fac=function(n){return new(n||e)(qn("errorHandlerOptions"))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Cp(e){return new SI(e)}var Rp=()=>Tp({dsn:ms.sentryDsn,integrations:[su()],replaysSessionSampleRate:0,replaysOnErrorSampleRate:1,environment:ms.environmentLabel}),xp=()=>({provide:wu,useValue:Cp()});function Ap(e,t){let n=A(Vu);return t(e).pipe(wt(r=>(n.openSnackbar(r,"ERROR"),Gt(()=>r))))}var kp=[{path:"",loadComponent:()=>import("./chunk-R4VCYXKP.js").then(e=>e.MainPageComponent)}];Rp();var Mp={providers:[xp(),Uu(),kl(kp),Bu(Hu(),$u([Ap])),Ml(),{provide:qu,useValue:{duration:3e3}},{provide:Gu,useValue:{displayDefaultIndicatorType:!1}}]};var Op=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=di({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&fi(0,"router-outlet")},dependencies:[Js],encapsulation:2})}return e})();zu(Op,Mp).catch(e=>console.error(e));
//# sourceMappingURL=main-LO2YTCCA.js.map
